<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>cumbia: CuTimerService Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">cumbia
   &#160;<span id="projectnumber">1.x</span>
   </div>
   <div id="projectbrief">general purpose multi threaded library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classCuTimerService.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classCuTimerService-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">CuTimerService Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The <a class="el" href="classCuTimerService.html" title="The CuTimerService class provides access to cumbia timers. It is normally used internally by the libr...">CuTimerService</a> class provides access to cumbia timers. It is normally used internally by the library itself, but it can be occasionally employed by applications to limit the maximum number of allocated timers, for optimization purposes.  
 <a href="classCuTimerService.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="cutimerservice_8h_source.html">cutimerservice.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for CuTimerService:</div>
<div class="dyncontent">
<div class="center"><img src="classCuTimerService__inherit__graph.png" border="0" usemap="#CuTimerService_inherit__map" alt="Inheritance graph"/></div>
<map name="CuTimerService_inherit__map" id="CuTimerService_inherit__map">
<area shape="rect"  title="The CuTimerService class provides access to cumbia timers. It is normally used internally by the libr..." alt="" coords="5,80,120,107"/>
<area shape="rect"  href="classCuServiceI.html" title="interface to write cumbia services that can be registered and fetched through the cumbia service prov..." alt="" coords="19,5,106,32"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a391a4a774102c330eeb897c0a9493adc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCuTimerService.html#a391a4a774102c330eeb897c0a9493adc">CuTimerService</a> ()</td></tr>
<tr class="memdesc:a391a4a774102c330eeb897c0a9493adc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Class constructor Initializes timerMaxCount to 25.  <a href="#a391a4a774102c330eeb897c0a9493adc">More...</a><br /></td></tr>
<tr class="separator:a391a4a774102c330eeb897c0a9493adc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d1cc18aded170f94fc6c8978a9bcc84"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCuTimerService.html#a2d1cc18aded170f94fc6c8978a9bcc84">~CuTimerService</a> ()</td></tr>
<tr class="separator:a2d1cc18aded170f94fc6c8978a9bcc84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2021b6213cde0b49b395f5d12337c1c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCuTimer.html">CuTimer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCuTimerService.html#ad2021b6213cde0b49b395f5d12337c1c">registerListener</a> (CuTimerListener *timer_listener, int timeout)</td></tr>
<tr class="memdesc:ad2021b6213cde0b49b395f5d12337c1c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a new CuTimerListener with a given timeout. Reuse existing timers if possible.  <a href="#ad2021b6213cde0b49b395f5d12337c1c">More...</a><br /></td></tr>
<tr class="separator:ad2021b6213cde0b49b395f5d12337c1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68d13de14f0c16a1230e57d9af370c05"><td class="memItemLeft" align="right" valign="top">std::list&lt; <a class="el" href="classCuTimer.html">CuTimer</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCuTimerService.html#a68d13de14f0c16a1230e57d9af370c05">getTimers</a> ()</td></tr>
<tr class="memdesc:a68d13de14f0c16a1230e57d9af370c05"><td class="mdescLeft">&#160;</td><td class="mdescRight">returns all the timers managed by the service  <a href="#a68d13de14f0c16a1230e57d9af370c05">More...</a><br /></td></tr>
<tr class="separator:a68d13de14f0c16a1230e57d9af370c05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1490ce9b8dd597c5d0d18fe66d65df9"><td class="memItemLeft" align="right" valign="top">std::list&lt; CuTimerListener * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCuTimerService.html#aa1490ce9b8dd597c5d0d18fe66d65df9">getListeners</a> (<a class="el" href="classCuTimer.html">CuTimer</a> *t) const</td></tr>
<tr class="memdesc:aa1490ce9b8dd597c5d0d18fe66d65df9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the list of CuTimerListener registered to the timer t.  <a href="#aa1490ce9b8dd597c5d0d18fe66d65df9">More...</a><br /></td></tr>
<tr class="separator:aa1490ce9b8dd597c5d0d18fe66d65df9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a365796ff7704c3cac09946522c05bdde"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCuTimerService.html#a365796ff7704c3cac09946522c05bdde">unregisterListener</a> (CuTimerListener *th, int timeout)</td></tr>
<tr class="memdesc:a365796ff7704c3cac09946522c05bdde"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unregister a listener with the given timeout from the service.  <a href="#a365796ff7704c3cac09946522c05bdde">More...</a><br /></td></tr>
<tr class="separator:a365796ff7704c3cac09946522c05bdde"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0239b4957975f9692beb22e0e0168332"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCuTimer.html">CuTimer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCuTimerService.html#a0239b4957975f9692beb22e0e0168332">changeTimeout</a> (CuTimerListener *th, int timeout)</td></tr>
<tr class="memdesc:a0239b4957975f9692beb22e0e0168332"><td class="mdescLeft">&#160;</td><td class="mdescRight">Changet the timeout of the timer that serves the given listener.  <a href="#a0239b4957975f9692beb22e0e0168332">More...</a><br /></td></tr>
<tr class="separator:a0239b4957975f9692beb22e0e0168332"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75e67d64584e6f8d798abe7a5df39052"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCuTimerService.html#a75e67d64584e6f8d798abe7a5df39052">isRegistered</a> (CuTimerListener *th, int timeout)</td></tr>
<tr class="memdesc:a75e67d64584e6f8d798abe7a5df39052"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classCuTimerService.html#a75e67d64584e6f8d798abe7a5df39052" title="CuTimerService::isRegistered returns true if a timer is registered for the given listener and timeout...">CuTimerService::isRegistered</a> returns true if a timer is registered for the given listener and timeout.  <a href="#a75e67d64584e6f8d798abe7a5df39052">More...</a><br /></td></tr>
<tr class="separator:a75e67d64584e6f8d798abe7a5df39052"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8dd191a510fd5b75079632fffb44759"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCuTimerService.html#ac8dd191a510fd5b75079632fffb44759">setTimerMaxCount</a> (int count)</td></tr>
<tr class="memdesc:ac8dd191a510fd5b75079632fffb44759"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the maximum number of timers that are allowed (per period)  <a href="#ac8dd191a510fd5b75079632fffb44759">More...</a><br /></td></tr>
<tr class="separator:ac8dd191a510fd5b75079632fffb44759"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0448606e0bddbcb0413374fe9c8fc7ef"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCuTimerService.html#a0448606e0bddbcb0413374fe9c8fc7ef">timerMaxCount</a> () const</td></tr>
<tr class="separator:a0448606e0bddbcb0413374fe9c8fc7ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abad0697fd7eb98e72d9df753fb418529"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCuTimerService.html#abad0697fd7eb98e72d9df753fb418529">restart</a> (<a class="el" href="classCuTimer.html">CuTimer</a> *t, int millis)</td></tr>
<tr class="memdesc:abad0697fd7eb98e72d9df753fb418529"><td class="mdescLeft">&#160;</td><td class="mdescRight">restart the timer t with interval millis  <a href="#abad0697fd7eb98e72d9df753fb418529">More...</a><br /></td></tr>
<tr class="separator:abad0697fd7eb98e72d9df753fb418529"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19afaabd0023d00030ebb03944dd95c1"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCuTimerService.html#a19afaabd0023d00030ebb03944dd95c1">getName</a> () const</td></tr>
<tr class="memdesc:a19afaabd0023d00030ebb03944dd95c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the name of the service.  <a href="#a19afaabd0023d00030ebb03944dd95c1">More...</a><br /></td></tr>
<tr class="separator:a19afaabd0023d00030ebb03944dd95c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2152c6a57bd4894f83be461dc5c2e7d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCuServices.html#aa03cab8558f097dcdba9b49c90140c0b">CuServices::Type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCuTimerService.html#af2152c6a57bd4894f83be461dc5c2e7d">getType</a> () const</td></tr>
<tr class="memdesc:af2152c6a57bd4894f83be461dc5c2e7d"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classCuTimerService.html#af2152c6a57bd4894f83be461dc5c2e7d" title="CuTimerService::getType returns the service type.">CuTimerService::getType</a> returns the service type.  <a href="#af2152c6a57bd4894f83be461dc5c2e7d">More...</a><br /></td></tr>
<tr class="separator:af2152c6a57bd4894f83be461dc5c2e7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classCuServiceI"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classCuServiceI')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classCuServiceI.html">CuServiceI</a></td></tr>
<tr class="memitem:aa6e947cbad6f685162f8cb930d9aac9d inherit pub_methods_classCuServiceI"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCuServiceI.html#aa6e947cbad6f685162f8cb930d9aac9d">~CuServiceI</a> ()</td></tr>
<tr class="separator:aa6e947cbad6f685162f8cb930d9aac9d inherit pub_methods_classCuServiceI"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The <a class="el" href="classCuTimerService.html" title="The CuTimerService class provides access to cumbia timers. It is normally used internally by the libr...">CuTimerService</a> class provides access to cumbia timers. It is normally used internally by the library itself, but it can be occasionally employed by applications to limit the maximum number of allocated timers, for optimization purposes. </p>
<p><a class="el" href="classCuTimerService.html" title="The CuTimerService class provides access to cumbia timers. It is normally used internally by the libr...">CuTimerService</a> implements <a class="el" href="classCuServiceI.html" title="interface to write cumbia services that can be registered and fetched through the cumbia service prov...">CuServiceI</a> in order to provide access to <a class="el" href="classCuTimer.html" title="a timer used by CuThread for periodic execution of an activity">CuTimer</a> objects. They are not directly available to clients. Use registerListener to either get a fresh timer or reuse an existing one, according to setTimerMaxCount. unregisterListener is called when a timer is no more needed. <a class="el" href="classCuTimer.html" title="a timer used by CuThread for periodic execution of an activity">CuTimer</a> is single shot: <a class="el" href="classCuTimerService.html#abad0697fd7eb98e72d9df753fb418529" title="restart the timer t with interval millis">CuTimerService::restart</a> method must then be called when the client needs to wait for a new timeout. Finally, it is possible to get the list of CuTimerListener for a given timer and the list of all timers. The timerMaxCount method returns the upper limit on the timers count set with setTimerMaxCount or the default value, which is</p><ol type="1">
<li>Each timer runs in a separate thread. That's why library offers the possibility to curb the number of timers. It makes sense if the thread creation policy of the engine in use promotes distributing sources across different threads.</li>
</ol>
<dl class="section user"><dt>Changing the max timers count.</dt><dd>From an application, get a handle to the <a class="el" href="classCuTimerService.html" title="The CuTimerService class provides access to cumbia timers. It is normally used internally by the libr...">CuTimerService</a> from <a class="el" href="classCumbia.html" title="primary cumbia class where activities are registered and unregistered. Provides access to the cumbia ...">Cumbia</a> and then call <a class="el" href="classCuTimerService.html#ac8dd191a510fd5b75079632fffb44759" title="Set the maximum number of timers that are allowed (per period)">CuTimerService::setTimerMaxCount</a></dd></dl>
<div class="fragment"><div class="line"><a class="code" href="classCuTimerService.html">CuTimerService</a> *ts = static_cast&lt;CuTimerService *&gt;(cumbia_ptr-&gt;getServiceProvider()-&gt;get(<a class="code" href="classCuServices.html#aa03cab8558f097dcdba9b49c90140c0bab4e2a6f342d95f03144c33e3b429158e">CuServices::Timer</a>));</div><div class="line">ts-&gt;<a class="code" href="classCuTimerService.html#ac8dd191a510fd5b75079632fffb44759">setTimerMaxCount</a>(m_conf.max_timers);</div></div><!-- fragment --> </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a391a4a774102c330eeb897c0a9493adc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a391a4a774102c330eeb897c0a9493adc">&#9670;&nbsp;</a></span>CuTimerService()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CuTimerService::CuTimerService </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Class constructor Initializes timerMaxCount to 25. </p>

<p class="reference">References <a class="el" href="classCuTimerServicePrivate.html#a30ea1ce5bfb0dab83671cb3d766a4b6f">CuTimerServicePrivate::timer_max_count</a>.</p>

</div>
</div>
<a id="a2d1cc18aded170f94fc6c8978a9bcc84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d1cc18aded170f94fc6c8978a9bcc84">&#9670;&nbsp;</a></span>~CuTimerService()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CuTimerService::~CuTimerService </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">References <a class="el" href="classCuTimerServicePrivate.html#a05b9a558a973d01f55c55551aad85b3a">CuTimerServicePrivate::ti_cache</a>, and <a class="el" href="classCuTimerServicePrivate.html#a53737fb7d6f5ce9fe7451d41b5ff81db">CuTimerServicePrivate::ti_map</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a0239b4957975f9692beb22e0e0168332"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0239b4957975f9692beb22e0e0168332">&#9670;&nbsp;</a></span>changeTimeout()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCuTimer.html">CuTimer</a> * CuTimerService::changeTimeout </td>
          <td>(</td>
          <td class="paramtype">CuTimerListener *&#160;</td>
          <td class="paramname"><em>tl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Changet the timeout of the timer that serves the given listener. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tl</td><td>the CuTimerListener requiring a change in timeout </td></tr>
    <tr><td class="paramname">timeout</td><td>the new timeout, in milliseconds </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A fresh or existing timer satisfying the requirements in terms of timeout.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Internally, unregisterListener and registerListener are called </dd></dl>

<p class="reference">References <a class="el" href="cumacros_8h.html#ace3ed8e68957fe0cd2c27043cc5137db">perr</a>, <a class="el" href="classCuTimerService.html#ad2021b6213cde0b49b395f5d12337c1c">registerListener()</a>, <a class="el" href="classCuTimerServicePrivate.html#a288f2b43b83dba6122b22cf2e855f91a">CuTimerServicePrivate::shared_mutex</a>, <a class="el" href="classCuTimer.html#aec23de65a1e03aabdaee041999f563f1">CuTimer::timeout()</a>, and <a class="el" href="classCuTimerService.html#a365796ff7704c3cac09946522c05bdde">unregisterListener()</a>.</p>

<p class="reference">Referenced by <a class="el" href="classCuThread.html#a04430b04bde54f9575ad5f6e56172a23">CuThread::run()</a>.</p>

</div>
</div>
<a id="aa1490ce9b8dd597c5d0d18fe66d65df9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1490ce9b8dd597c5d0d18fe66d65df9">&#9670;&nbsp;</a></span>getListeners()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::list&lt; CuTimerListener * &gt; CuTimerService::getListeners </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCuTimer.html">CuTimer</a> *&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the list of CuTimerListener registered to the timer t. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">t</td><td>the timer whose listeners the caller is seeking for </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the list of listeners of the timer t </dd></dl>

</div>
</div>
<a id="a19afaabd0023d00030ebb03944dd95c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19afaabd0023d00030ebb03944dd95c1">&#9670;&nbsp;</a></span>getName()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string CuTimerService::getName </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the name of the service. </p>
<dl class="section return"><dt>Returns</dt><dd>"CuTimerService" </dd></dl>

<p>Implements <a class="el" href="classCuServiceI.html#a26f6442ec21013718d177afb575f298c">CuServiceI</a>.</p>

</div>
</div>
<a id="a68d13de14f0c16a1230e57d9af370c05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68d13de14f0c16a1230e57d9af370c05">&#9670;&nbsp;</a></span>getTimers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::list&lt; <a class="el" href="classCuTimer.html">CuTimer</a> * &gt; CuTimerService::getTimers </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>returns all the timers managed by the service </p>
<dl class="section return"><dt>Returns</dt><dd>a list of the registered <a class="el" href="classCuTimer.html" title="a timer used by CuThread for periodic execution of an activity">CuTimer</a> instances </dd></dl>

<p class="reference">References <a class="el" href="classCuTimerServicePrivate.html#a288f2b43b83dba6122b22cf2e855f91a">CuTimerServicePrivate::shared_mutex</a>, and <a class="el" href="classCuTimerServicePrivate.html#a53737fb7d6f5ce9fe7451d41b5ff81db">CuTimerServicePrivate::ti_map</a>.</p>

</div>
</div>
<a id="af2152c6a57bd4894f83be461dc5c2e7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2152c6a57bd4894f83be461dc5c2e7d">&#9670;&nbsp;</a></span>getType()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCuServices.html#aa03cab8558f097dcdba9b49c90140c0b">CuServices::Type</a> CuTimerService::getType </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="classCuTimerService.html#af2152c6a57bd4894f83be461dc5c2e7d" title="CuTimerService::getType returns the service type.">CuTimerService::getType</a> returns the service type. </p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="classCuServices.html#aa03cab8558f097dcdba9b49c90140c0bab4e2a6f342d95f03144c33e3b429158e">CuServices::Timer</a> </dd></dl>

<p>Implements <a class="el" href="classCuServiceI.html#a186c5bb0678fd7aeee96237686428850">CuServiceI</a>.</p>

<p class="reference">References <a class="el" href="classCuServices.html#aa03cab8558f097dcdba9b49c90140c0bab4e2a6f342d95f03144c33e3b429158e">CuServices::Timer</a>.</p>

</div>
</div>
<a id="a75e67d64584e6f8d798abe7a5df39052"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75e67d64584e6f8d798abe7a5df39052">&#9670;&nbsp;</a></span>isRegistered()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CuTimerService::isRegistered </td>
          <td>(</td>
          <td class="paramtype">CuTimerListener *&#160;</td>
          <td class="paramname"><em>tlis</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="classCuTimerService.html#a75e67d64584e6f8d798abe7a5df39052" title="CuTimerService::isRegistered returns true if a timer is registered for the given listener and timeout...">CuTimerService::isRegistered</a> returns true if a timer is registered for the given listener and timeout. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tlis</td><td>the CuTimerListener </td></tr>
    <tr><td class="paramname">timeout</td><td>the timeout </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if there is a timer registered for the given listener and timeout, false otherwise </dd></dl>

<p class="reference">References <a class="el" href="classCuTimerServicePrivate.html#a288f2b43b83dba6122b22cf2e855f91a">CuTimerServicePrivate::shared_mutex</a>, and <a class="el" href="classCuTimerServicePrivate.html#a05b9a558a973d01f55c55551aad85b3a">CuTimerServicePrivate::ti_cache</a>.</p>

</div>
</div>
<a id="ad2021b6213cde0b49b395f5d12337c1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2021b6213cde0b49b395f5d12337c1c">&#9670;&nbsp;</a></span>registerListener()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCuTimer.html">CuTimer</a> * CuTimerService::registerListener </td>
          <td>(</td>
          <td class="paramtype">CuTimerListener *&#160;</td>
          <td class="paramname"><em>timer_listener</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a new CuTimerListener with a given timeout. Reuse existing timers if possible. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timer_listener</td><td>a CuTimerListener (e.g. <a class="el" href="classCuThread.html" title="cumbia thread implementation">CuThread</a>) </td></tr>
    <tr><td class="paramname">timeout</td><td>the desired timeout </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a new <a class="el" href="classCuTimer.html" title="a timer used by CuThread for periodic execution of an activity">CuTimer</a> or a <a class="el" href="classCuTimer.html" title="a timer used by CuThread for periodic execution of an activity">CuTimer</a> already in use</dd></dl>
<dl class="section user"><dt>Timer registration</dt><dd>If a timer associated to the given listener and timeout is already registered, it is reused. If timer_listener is new, the behaviour depends on the number of timers for the given timeout and the value of timerMaxCount: <ul>
<li>number of timers &lt;= timersMaxCount: a new timer is returned </li>
<li>an existing timer with the given timeout is reused</li>
</ul>
</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classCuTimerService.html#a0448606e0bddbcb0413374fe9c8fc7ef">timerMaxCount</a> </dd>
<dd>
<a class="el" href="classCuTimerService.html#ac8dd191a510fd5b75079632fffb44759" title="Set the maximum number of timers that are allowed (per period)">setTimerMaxCount</a> </dd></dl>

<p class="reference">References <a class="el" href="cumacros_8h.html#a9330735c6e5ccd385160e6401a3e1932">pgreen</a>, <a class="el" href="classCuTimer.html#a7e9b7f2b6d0679a742b7672580ecbe40">CuTimer::setTimeout()</a>, <a class="el" href="classCuTimerServicePrivate.html#a288f2b43b83dba6122b22cf2e855f91a">CuTimerServicePrivate::shared_mutex</a>, <a class="el" href="classCuTimerServicePrivate.html#a05b9a558a973d01f55c55551aad85b3a">CuTimerServicePrivate::ti_cache</a>, <a class="el" href="classCuTimerServicePrivate.html#a53737fb7d6f5ce9fe7451d41b5ff81db">CuTimerServicePrivate::ti_map</a>, and <a class="el" href="classCuTimerServicePrivate.html#a30ea1ce5bfb0dab83671cb3d766a4b6f">CuTimerServicePrivate::timer_max_count</a>.</p>

<p class="reference">Referenced by <a class="el" href="classCuTimerService.html#a0239b4957975f9692beb22e0e0168332">changeTimeout()</a>.</p>

</div>
</div>
<a id="abad0697fd7eb98e72d9df753fb418529"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abad0697fd7eb98e72d9df753fb418529">&#9670;&nbsp;</a></span>restart()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CuTimerService::restart </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCuTimer.html">CuTimer</a> *&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>millis</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>restart the timer t with interval millis </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">t</td><td>the timer to restart </td></tr>
    <tr><td class="paramname">millis</td><td>the desired interval</td></tr>
  </table>
  </dd>
</dl>
<p>Normally, <a class="el" href="classCuThread.html" title="cumbia thread implementation">CuThread</a> asks <a class="el" href="classCuTimerService.html" title="The CuTimerService class provides access to cumbia timers. It is normally used internally by the libr...">CuTimerService</a> to restart a timer after activity execution, to prevent timer event accumulation on the queue </p>

<p class="reference">Referenced by <a class="el" href="classCuThread.html#a04430b04bde54f9575ad5f6e56172a23">CuThread::run()</a>.</p>

</div>
</div>
<a id="ac8dd191a510fd5b75079632fffb44759"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8dd191a510fd5b75079632fffb44759">&#9670;&nbsp;</a></span>setTimerMaxCount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CuTimerService::setTimerMaxCount </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>count</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the maximum number of timers that are allowed (per period) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">count</td><td>the desired maximum number of timers for each period.</td></tr>
  </table>
  </dd>
</dl>
<p>After timerMaxCount number of timers is reached, timers are reused</p>
<dl class="section user"><dt>Default value</dt><dd>The default value is 25.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Please configure this number before registering activities: changing this number later does not redistribute already registered timers. </dd></dl>

<p class="reference">References <a class="el" href="classCuTimerServicePrivate.html#a30ea1ce5bfb0dab83671cb3d766a4b6f">CuTimerServicePrivate::timer_max_count</a>.</p>

</div>
</div>
<a id="a0448606e0bddbcb0413374fe9c8fc7ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0448606e0bddbcb0413374fe9c8fc7ef">&#9670;&nbsp;</a></span>timerMaxCount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CuTimerService::timerMaxCount </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">References <a class="el" href="classCuTimerServicePrivate.html#a30ea1ce5bfb0dab83671cb3d766a4b6f">CuTimerServicePrivate::timer_max_count</a>.</p>

</div>
</div>
<a id="a365796ff7704c3cac09946522c05bdde"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a365796ff7704c3cac09946522c05bdde">&#9670;&nbsp;</a></span>unregisterListener()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CuTimerService::unregisterListener </td>
          <td>(</td>
          <td class="paramtype">CuTimerListener *&#160;</td>
          <td class="paramname"><em>tl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unregister a listener with the given timeout from the service. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tl</td><td>the CuTimerListner to unregister </td></tr>
    <tr><td class="paramname">timeout</td><td>the to remove listener's timeout</td></tr>
  </table>
  </dd>
</dl>
<p>If the timer associated to tl has no more listeners after unregistration, it will be stopped and deleted. </p>

<p class="reference">References <a class="el" href="cumacros_8h.html#ace3ed8e68957fe0cd2c27043cc5137db">perr</a>, and <a class="el" href="classCuTimerServicePrivate.html#a288f2b43b83dba6122b22cf2e855f91a">CuTimerServicePrivate::shared_mutex</a>.</p>

<p class="reference">Referenced by <a class="el" href="classCuTimerService.html#a0239b4957975f9692beb22e0e0168332">changeTimeout()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="cutimerservice_8h_source.html">cutimerservice.h</a></li>
<li><a class="el" href="cutimerservice_8cpp.html">cutimerservice.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classCuTimerService.html">CuTimerService</a></li>
    <li class="footer">Generated on Tue Dec 10 2019 16:45:08 for cumbia by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.15 </li>
  </ul>
</div>
</body>
</html>
