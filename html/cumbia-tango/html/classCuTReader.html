<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>cumbia-tango: CuTReader Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">cumbia-tango
   &#160;<span id="projectnumber">1.x</span>
   </div>
   <div id="projectbrief">C++ multi threaded library based on cumbia and the Tango control system</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classCuTReader-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">CuTReader Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Low level class to read tango attributes and commands with output arguments.  
 <a href="classCuTReader.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="cutreader_8h_source.html">cutreader.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for CuTReader:</div>
<div class="dyncontent">
<div class="center"><img src="classCuTReader__inherit__graph.png" border="0" usemap="#CuTReader_inherit__map" alt="Inheritance graph"/></div>
<map name="CuTReader_inherit__map" id="CuTReader_inherit__map">
<area shape="rect"  title="Low level class to read tango attributes and commands with output arguments." alt="" coords="24,155,111,181"/>
<area shape="rect"  href="classCuTangoActionI.html" title="an interface for a Tango action, typically a reader or a writer are implementors" alt="" coords="10,80,125,107"/>
<area shape="rect"  title=" " alt="" coords="5,5,129,32"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:aa7fdfba3098f8456948f8a4f4db96848"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCuTReader.html#aa7fdfba3098f8456948f8a4f4db96848">RefreshMode</a> { <br />
&#160;&#160;<a class="el" href="classCuTReader.html#aa7fdfba3098f8456948f8a4f4db96848aa0beab070134a15c077018c55b55786b">PolledRefresh</a> = 0x01, 
<a class="el" href="classCuTReader.html#aa7fdfba3098f8456948f8a4f4db96848abef6d9cb08775329b86f20ff0e2a4172">ChangeEventRefresh</a> =0x02, 
<a class="el" href="classCuTReader.html#aa7fdfba3098f8456948f8a4f4db96848a67a54cca3bd69287c31bd8c83aeae076">ArchiveEventRefresh</a> =0x04, 
<a class="el" href="classCuTReader.html#aa7fdfba3098f8456948f8a4f4db96848a46164061204878bc667be129d86192b7">PeriodicEventRefresh</a> =0x08, 
<br />
&#160;&#160;<a class="el" href="classCuTReader.html#aa7fdfba3098f8456948f8a4f4db96848ac4f8eb91cf33f91e054dc525f073d246">Manual</a> =0x10
<br />
 }</td></tr>
<tr class="memdesc:aa7fdfba3098f8456948f8a4f4db96848"><td class="mdescLeft">&#160;</td><td class="mdescRight">The reader refresh mode.  <a href="classCuTReader.html#aa7fdfba3098f8456948f8a4f4db96848">More...</a><br /></td></tr>
<tr class="separator:aa7fdfba3098f8456948f8a4f4db96848"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_types_classCuTangoActionI"><td colspan="2" onclick="javascript:toggleInherit('pub_types_classCuTangoActionI')"><img src="closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="classCuTangoActionI.html">CuTangoActionI</a></td></tr>
<tr class="memitem:ade015baf4bca143a9bafcce41aa2dd92 inherit pub_types_classCuTangoActionI"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCuTangoActionI.html#ade015baf4bca143a9bafcce41aa2dd92">Type</a> { <br />
&#160;&#160;<a class="el" href="classCuTangoActionI.html#ade015baf4bca143a9bafcce41aa2dd92ad217b5458be69582f9d98863f43d41db">Reader</a> = 0, 
<a class="el" href="classCuTangoActionI.html#ade015baf4bca143a9bafcce41aa2dd92a6495f1b3ab137e0542cab88c964415e5">Writer</a>, 
<a class="el" href="classCuTangoActionI.html#ade015baf4bca143a9bafcce41aa2dd92a6caccb8082e4cdc6fb68a67c0e1df6c3">ReaderConfig</a>, 
<a class="el" href="classCuTangoActionI.html#ade015baf4bca143a9bafcce41aa2dd92aea7de597735cbb4df75f5a10280bbeb6">WriterConfig</a>, 
<br />
&#160;&#160;<a class="el" href="classCuTangoActionI.html#ade015baf4bca143a9bafcce41aa2dd92a3df66f83f17416350e8af1e388a5f4ad">DbReadProp</a>, 
<a class="el" href="classCuTangoActionI.html#ade015baf4bca143a9bafcce41aa2dd92a36dd4bb9bc0d1827f602817d50668c1a">DbWriteProp</a>
<br />
 }</td></tr>
<tr class="memdesc:ade015baf4bca143a9bafcce41aa2dd92"><td class="mdescLeft">&#160;</td><td class="mdescRight">list of types of actions  <a href="classCuTangoActionI.html#ade015baf4bca143a9bafcce41aa2dd92">More...</a><br /></td></tr>
<tr class="separator:ade015baf4bca143a9bafcce41aa2dd92 inherit pub_types_classCuTangoActionI"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad656c541f0776fed1d64d5e7d86695ea"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCuTReader.html#ad656c541f0776fed1d64d5e7d86695ea">CuTReader</a> (const <a class="el" href="classTSource.html">TSource</a> &amp;src, <a class="el" href="classCumbiaTango.html">CumbiaTango</a> *ct)</td></tr>
<tr class="separator:ad656c541f0776fed1d64d5e7d86695ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a865ff0fa7800afd98366b5345fdb71"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCuTReader.html#a2a865ff0fa7800afd98366b5345fdb71">~CuTReader</a> ()</td></tr>
<tr class="separator:a2a865ff0fa7800afd98366b5345fdb71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a310f5d5014c1f7517210af4c436818e5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCuTReader.html#a310f5d5014c1f7517210af4c436818e5">onProgress</a> (int step, int total, const CuData &amp;data)</td></tr>
<tr class="memdesc:a310f5d5014c1f7517210af4c436818e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">progress notification callback  <a href="#a310f5d5014c1f7517210af4c436818e5">More...</a><br /></td></tr>
<tr class="separator:a310f5d5014c1f7517210af4c436818e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66c0cdbba00a83b339c07770c4626295"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCuTReader.html#a66c0cdbba00a83b339c07770c4626295">onResult</a> (const CuData &amp;data)</td></tr>
<tr class="separator:a66c0cdbba00a83b339c07770c4626295"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadac5b2926d109c95316c532321a004d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCuTReader.html#aadac5b2926d109c95316c532321a004d">onResult</a> (const std::vector&lt; CuData &gt; &amp;datalist)</td></tr>
<tr class="separator:aadac5b2926d109c95316c532321a004d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac028bcf1c27c3c7d4c2847bfa409c10f"><td class="memItemLeft" align="right" valign="top">CuData&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCuTReader.html#ac028bcf1c27c3c7d4c2847bfa409c10f">getToken</a> () const</td></tr>
<tr class="memdesc:ac028bcf1c27c3c7d4c2847bfa409c10f"><td class="mdescLeft">&#160;</td><td class="mdescRight">returns the CuData storing the token that identifies this action  <a href="#ac028bcf1c27c3c7d4c2847bfa409c10f">More...</a><br /></td></tr>
<tr class="separator:ac028bcf1c27c3c7d4c2847bfa409c10f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acba17a60f24f4c75359422b84fd91975"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classTSource.html">TSource</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCuTReader.html#acba17a60f24f4c75359422b84fd91975">getSource</a> () const</td></tr>
<tr class="separator:acba17a60f24f4c75359422b84fd91975"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abab56f2fa5c3711ceec6d52907875b37"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCuTangoActionI.html#ade015baf4bca143a9bafcce41aa2dd92">CuTangoActionI::Type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCuTReader.html#abab56f2fa5c3711ceec6d52907875b37">getType</a> () const</td></tr>
<tr class="memdesc:abab56f2fa5c3711ceec6d52907875b37"><td class="mdescLeft">&#160;</td><td class="mdescRight">returns the type of <a class="el" href="classCuTangoActionI.html" title="an interface for a Tango action, typically a reader or a writer are implementors">CuTangoActionI</a> implemented  <a href="#abab56f2fa5c3711ceec6d52907875b37">More...</a><br /></td></tr>
<tr class="separator:abab56f2fa5c3711ceec6d52907875b37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d5f615f01f028fe3f32306c584c9822"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCuTReader.html#a5d5f615f01f028fe3f32306c584c9822">sendData</a> (const CuData &amp;data)</td></tr>
<tr class="memdesc:a5d5f615f01f028fe3f32306c584c9822"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send data with parameters to configure the reader.  <a href="#a5d5f615f01f028fe3f32306c584c9822">More...</a><br /></td></tr>
<tr class="separator:a5d5f615f01f028fe3f32306c584c9822"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fb59e260adfcea9cd094623d5a45e90"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCuTReader.html#a0fb59e260adfcea9cd094623d5a45e90">getData</a> (CuData &amp;inout) const</td></tr>
<tr class="memdesc:a0fb59e260adfcea9cd094623d5a45e90"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get parameters from the reader.  <a href="#a0fb59e260adfcea9cd094623d5a45e90">More...</a><br /></td></tr>
<tr class="separator:a0fb59e260adfcea9cd094623d5a45e90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33fed2857754e3dbfc728fe9a23b35e2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCuTReader.html#a33fed2857754e3dbfc728fe9a23b35e2">setRefreshMode</a> (<a class="el" href="classCuTReader.html#aa7fdfba3098f8456948f8a4f4db96848">RefreshMode</a> rm, int <a class="el" href="classCuTReader.html#ae426461b189140ac0227efdc2e31a932">period</a>=-1)</td></tr>
<tr class="memdesc:a33fed2857754e3dbfc728fe9a23b35e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">set or change the reader's refresh mode  <a href="#a33fed2857754e3dbfc728fe9a23b35e2">More...</a><br /></td></tr>
<tr class="separator:a33fed2857754e3dbfc728fe9a23b35e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1c2c0d8e8be6c4562f3336e0fc86d4d"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCuTReader.html#aa1c2c0d8e8be6c4562f3336e0fc86d4d">refreshModeStr</a> () const</td></tr>
<tr class="separator:aa1c2c0d8e8be6c4562f3336e0fc86d4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d1cb1c1406f67fc6c61b637f759b482"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCuTReader.html#aa7fdfba3098f8456948f8a4f4db96848">RefreshMode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCuTReader.html#a7d1cb1c1406f67fc6c61b637f759b482">refreshMode</a> () const</td></tr>
<tr class="separator:a7d1cb1c1406f67fc6c61b637f759b482"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac42436e8294cdf21989a30a77d9da10"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCuTReader.html#aac42436e8294cdf21989a30a77d9da10">setPeriod</a> (int millis)</td></tr>
<tr class="separator:aac42436e8294cdf21989a30a77d9da10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b92741e79070c307ff5870f3c06c27a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCuTReader.html#a7b92741e79070c307ff5870f3c06c27a">setOptions</a> (const CuData &amp;options)</td></tr>
<tr class="memdesc:a7b92741e79070c307ff5870f3c06c27a"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classCuTReader.html#a7b92741e79070c307ff5870f3c06c27a" title="CuTReader::setOptions sets the options on the reader.">CuTReader::setOptions</a> sets the options on the reader.  <a href="#a7b92741e79070c307ff5870f3c06c27a">More...</a><br /></td></tr>
<tr class="separator:a7b92741e79070c307ff5870f3c06c27a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae426461b189140ac0227efdc2e31a932"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCuTReader.html#ae426461b189140ac0227efdc2e31a932">period</a> () const</td></tr>
<tr class="separator:ae426461b189140ac0227efdc2e31a932"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3facbcb1d69b84d9d302db4511522671"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCuTReader.html#a3facbcb1d69b84d9d302db4511522671">start</a> ()</td></tr>
<tr class="memdesc:a3facbcb1d69b84d9d302db4511522671"><td class="mdescLeft">&#160;</td><td class="mdescRight">creates and registers a <a class="el" href="classCuEventActivity.html" title="an activity to subscribe and receive events from Tango. Implements CuActivity and Tango::Callback int...">CuEventActivity</a> or a <a class="el" href="classCuPollingActivity.html" title="an activity to periodically read from Tango. Implements CuContinuousActivity">CuPollingActivity</a> to read from the <a class="el" href="namespaceTango.html">Tango</a> control system  <a href="#a3facbcb1d69b84d9d302db4511522671">More...</a><br /></td></tr>
<tr class="separator:a3facbcb1d69b84d9d302db4511522671"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4731c847e160a5203d24fb9b6fe8ae5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCuTReader.html#ae4731c847e160a5203d24fb9b6fe8ae5">stop</a> ()</td></tr>
<tr class="memdesc:ae4731c847e160a5203d24fb9b6fe8ae5"><td class="mdescLeft">&#160;</td><td class="mdescRight">the method where activities are unregistered from Cumbia  <a href="#ae4731c847e160a5203d24fb9b6fe8ae5">More...</a><br /></td></tr>
<tr class="separator:ae4731c847e160a5203d24fb9b6fe8ae5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb39983108f53b2e5b30a7c23c647754"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCuTReader.html#acb39983108f53b2e5b30a7c23c647754">addDataListener</a> (CuDataListener *l)</td></tr>
<tr class="memdesc:acb39983108f53b2e5b30a7c23c647754"><td class="mdescLeft">&#160;</td><td class="mdescRight">insert a CuDataListener to the list of listeners of data updates  <a href="#acb39983108f53b2e5b30a7c23c647754">More...</a><br /></td></tr>
<tr class="separator:acb39983108f53b2e5b30a7c23c647754"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a439883dad7d9b6cfb0a2c0085dc93e87"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCuTReader.html#a439883dad7d9b6cfb0a2c0085dc93e87">removeDataListener</a> (CuDataListener *l)</td></tr>
<tr class="memdesc:a439883dad7d9b6cfb0a2c0085dc93e87"><td class="mdescLeft">&#160;</td><td class="mdescRight">remove a CuDataListener from the list of listeners of data updates  <a href="#a439883dad7d9b6cfb0a2c0085dc93e87">More...</a><br /></td></tr>
<tr class="separator:a439883dad7d9b6cfb0a2c0085dc93e87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b5f38ec6e07ee826c4377ae658ccbd5"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCuTReader.html#a3b5f38ec6e07ee826c4377ae658ccbd5">dataListenersCount</a> ()</td></tr>
<tr class="memdesc:a3b5f38ec6e07ee826c4377ae658ccbd5"><td class="mdescLeft">&#160;</td><td class="mdescRight">return the number of registered data listeners  <a href="#a3b5f38ec6e07ee826c4377ae658ccbd5">More...</a><br /></td></tr>
<tr class="separator:a3b5f38ec6e07ee826c4377ae658ccbd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6953809b2974858ca1c36656a2f87db"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCuTReader.html#ac6953809b2974858ca1c36656a2f87db">exiting</a> () const</td></tr>
<tr class="memdesc:ac6953809b2974858ca1c36656a2f87db"><td class="mdescLeft">&#160;</td><td class="mdescRight">returns true if the action has been stopped and it's exiting  <a href="#ac6953809b2974858ca1c36656a2f87db">More...</a><br /></td></tr>
<tr class="separator:ac6953809b2974858ca1c36656a2f87db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa9248f271e4945ea53f508d32ce4fc5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCuTReader.html#afa9248f271e4945ea53f508d32ce4fc5">isEventRefresh</a> (<a class="el" href="classCuTReader.html#aa7fdfba3098f8456948f8a4f4db96848">RefreshMode</a> rm) const</td></tr>
<tr class="memdesc:afa9248f271e4945ea53f508d32ce4fc5"><td class="mdescLeft">&#160;</td><td class="mdescRight">returns true if the parameter is an event driven RefreshMode, false otherwise.  <a href="#afa9248f271e4945ea53f508d32ce4fc5">More...</a><br /></td></tr>
<tr class="separator:afa9248f271e4945ea53f508d32ce4fc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classCuTangoActionI"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classCuTangoActionI')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classCuTangoActionI.html">CuTangoActionI</a></td></tr>
<tr class="memitem:a7d5610e53b102d9cadc2d3b6a90e0481 inherit pub_methods_classCuTangoActionI"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCuTangoActionI.html#a7d5610e53b102d9cadc2d3b6a90e0481">~CuTangoActionI</a> ()</td></tr>
<tr class="memdesc:a7d5610e53b102d9cadc2d3b6a90e0481 inherit pub_methods_classCuTangoActionI"><td class="mdescLeft">&#160;</td><td class="mdescRight">virtual destructor, to make compilers happy  <a href="classCuTangoActionI.html#a7d5610e53b102d9cadc2d3b6a90e0481">More...</a><br /></td></tr>
<tr class="separator:a7d5610e53b102d9cadc2d3b6a90e0481 inherit pub_methods_classCuTangoActionI"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Low level class to read tango attributes and commands with output arguments. </p>
<p>This class implements the <a class="el" href="classCuTangoActionI.html" title="an interface for a Tango action, typically a reader or a writer are implementors">CuTangoActionI</a> interface, which in turn implements CuThreadListener.</p>
<p>Programmers of graphical interfaces should employ cumbia-tango-controls CuTControlsReader higher level class to create and communicate with <a class="el" href="classCuTReader.html" title="Low level class to read tango attributes and commands with output arguments.">CuTReader</a>.</p>
<dl class="section user"><dt>Function</dt><dd>Instantiates and registers (i.e. starts) either a <a class="el" href="classCuEventActivity.html" title="an activity to subscribe and receive events from Tango. Implements CuActivity and Tango::Callback int...">CuEventActivity</a> or a <a class="el" href="classCuPollingActivity.html" title="an activity to periodically read from Tango. Implements CuContinuousActivity">CuPollingActivity</a>, according to the desired RefreshMode. If the <a class="el" href="classCuEventActivity.html" title="an activity to subscribe and receive events from Tango. Implements CuActivity and Tango::Callback int...">CuEventActivity</a> fails subscribing to the <a class="el" href="namespaceTango.html">Tango</a> event system, it is replaced by <a class="el" href="classCuPollingActivity.html" title="an activity to periodically read from Tango. Implements CuContinuousActivity">CuPollingActivity</a> (in <a class="el" href="classCuTReader.html#a66c0cdbba00a83b339c07770c4626295">CuTReader::onResult</a>). In that case, no error event is delivered to CuDataListeners.</dd></dl>
<dl class="section user"><dt>Note</dt><dd><a class="el" href="classCuTReader.html" title="Low level class to read tango attributes and commands with output arguments.">CuTReader</a> holds a pointer to the current activity (CuTReaderPrivate: current_activity). Activity and <a class="el" href="classCuTReader.html" title="Low level class to read tango attributes and commands with output arguments.">CuTReader</a>'s life are independent from each other: if the CuActivity::CuADeleteOnExit flag is active (as in <a class="el" href="classCuPollingActivity.html" title="an activity to periodically read from Tango. Implements CuContinuousActivity">CuPollingActivity</a>), the activity is deleted by CuThread.</dd></dl>
<dl class="section user"><dt>Important</dt><dd>As a consequence of the note above, activities <em>must not exit before <a class="el" href="classCuTReader.html#ae4731c847e160a5203d24fb9b6fe8ae5" title="the method where activities are unregistered from Cumbia">CuTReader::stop</a> is called</em>. The proper way to stop the activity associated to the reader is through <a class="el" href="classCuTReader.html#ae4731c847e160a5203d24fb9b6fe8ae5" title="the method where activities are unregistered from Cumbia">CuTReader::stop</a>. </dd></dl>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="aa7fdfba3098f8456948f8a4f4db96848"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7fdfba3098f8456948f8a4f4db96848">&#9670;&nbsp;</a></span>RefreshMode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classCuTReader.html#aa7fdfba3098f8456948f8a4f4db96848">CuTReader::RefreshMode</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The reader refresh mode. </p>
<p>Each refresh mode reflects the way a tango attribute can be read. Commands are always <em>polled</em> with a given period (default: 1000ms). The preferred read mode for attributes is by events (ChangeEventRefresh). If they are not available, the second choice mode is PolledRefresh.</p>
<p>Manual mode starts (or switches to) a polling activity that is immediately paused. A specific argument must be specified to sendData to trigger a manual reading. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="aa7fdfba3098f8456948f8a4f4db96848aa0beab070134a15c077018c55b55786b"></a>PolledRefresh&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="aa7fdfba3098f8456948f8a4f4db96848abef6d9cb08775329b86f20ff0e2a4172"></a>ChangeEventRefresh&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="aa7fdfba3098f8456948f8a4f4db96848a67a54cca3bd69287c31bd8c83aeae076"></a>ArchiveEventRefresh&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="aa7fdfba3098f8456948f8a4f4db96848a46164061204878bc667be129d86192b7"></a>PeriodicEventRefresh&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="aa7fdfba3098f8456948f8a4f4db96848ac4f8eb91cf33f91e054dc525f073d246"></a>Manual&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ad656c541f0776fed1d64d5e7d86695ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad656c541f0776fed1d64d5e7d86695ea">&#9670;&nbsp;</a></span>CuTReader()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CuTReader::CuTReader </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classTSource.html">TSource</a> &amp;&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCumbiaTango.html">CumbiaTango</a> *&#160;</td>
          <td class="paramname"><em>ct</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">References <a class="el" href="classCuTReader.html#aa7fdfba3098f8456948f8a4f4db96848abef6d9cb08775329b86f20ff0e2a4172">ChangeEventRefresh</a>.</p>

</div>
</div>
<a id="a2a865ff0fa7800afd98366b5345fdb71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a865ff0fa7800afd98366b5345fdb71">&#9670;&nbsp;</a></span>~CuTReader()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CuTReader::~CuTReader </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="acb39983108f53b2e5b30a7c23c647754"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb39983108f53b2e5b30a7c23c647754">&#9670;&nbsp;</a></span>addDataListener()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CuTReader::addDataListener </td>
          <td>(</td>
          <td class="paramtype">CuDataListener *&#160;</td>
          <td class="paramname"><em>l</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>insert a CuDataListener to the list of listeners of data updates </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">l</td><td>a CuDataListener that receives notifications when data is ready, through CuDataListener::onUpdate </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classCuTangoActionI.html#a2f7cd98841abb677aa2dac34059eeab3">CuTangoActionI</a>.</p>

</div>
</div>
<a id="a3b5f38ec6e07ee826c4377ae658ccbd5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b5f38ec6e07ee826c4377ae658ccbd5">&#9670;&nbsp;</a></span>dataListenersCount()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t CuTReader::dataListenersCount </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>return the number of registered data listeners </p>
<dl class="section return"><dt>Returns</dt><dd>the number of data listeners currently installed </dd></dl>

<p>Implements <a class="el" href="classCuTangoActionI.html#a666462c6c634624db32cc1ae3ce5a4b3">CuTangoActionI</a>.</p>

</div>
</div>
<a id="ac6953809b2974858ca1c36656a2f87db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6953809b2974858ca1c36656a2f87db">&#9670;&nbsp;</a></span>exiting()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool CuTReader::exiting </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>returns true if the action has been stopped and it's exiting </p>
<dl class="section return"><dt>Returns</dt><dd>true if the action is exiting (normally, stop has been called), false otherwise</dd></dl>
<p>Used by <a class="el" href="classCuActionFactoryService.html#a9d5825629c4a5868469a14267d9af8ac" title="Unregister the action with the given source and type if the action&#39;s exiting() method returns true.">CuActionFactoryService::unregisterAction</a> to check whether the action is still running before unregistering. </p>

<p>Implements <a class="el" href="classCuTangoActionI.html#ad9d24cf91256fd45a2925f70de04bb02">CuTangoActionI</a>.</p>

</div>
</div>
<a id="a0fb59e260adfcea9cd094623d5a45e90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0fb59e260adfcea9cd094623d5a45e90">&#9670;&nbsp;</a></span>getData()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CuTReader::getData </td>
          <td>(</td>
          <td class="paramtype">CuData &amp;&#160;</td>
          <td class="paramname"><em>d_inout</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get parameters from the reader. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">d_inout</td><td>a reference to a CuData bundle containing the parameter names as keys. getData will associate the values to the keys. Unrecognized keys are ignored.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Valid keys</dt><dd><ul>
<li>"period": returns an int with the polling period </li>
<li>"refresh_mode": returns a <a class="el" href="classCuTReader.html#aa7fdfba3098f8456948f8a4f4db96848" title="The reader refresh mode.">CuTReader::RefreshMode</a> that can be converted to int </li>
<li>"mode": returns a string representation of the <a class="el" href="classCuTReader.html#aa7fdfba3098f8456948f8a4f4db96848" title="The reader refresh mode.">CuTReader::RefreshMode</a></li>
</ul>
</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classCuTReader.html#a5d5f615f01f028fe3f32306c584c9822" title="Send data with parameters to configure the reader.">sendData</a> </dd></dl>

<p>Implements <a class="el" href="classCuTangoActionI.html#a28c67a3d7d3ee250afb2ee6817d54b6d">CuTangoActionI</a>.</p>

<p class="reference">References <a class="el" href="classCuTReader.html#aa1c2c0d8e8be6c4562f3336e0fc86d4d">refreshModeStr()</a>.</p>

</div>
</div>
<a id="acba17a60f24f4c75359422b84fd91975"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acba17a60f24f4c75359422b84fd91975">&#9670;&nbsp;</a></span>getSource()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classTSource.html">TSource</a> CuTReader::getSource </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>returns the <em>tango</em> source (<a class="el" href="classTSource.html">TSource</a>)</p>
<dl class="section return"><dt>Returns</dt><dd>a <a class="el" href="classTSource.html">TSource</a> object that describes the <a class="el" href="namespaceTango.html">Tango</a> source </dd></dl>

<p>Implements <a class="el" href="classCuTangoActionI.html#af7b69aff3c5d964471c43789f5ca233b">CuTangoActionI</a>.</p>

</div>
</div>
<a id="ac028bcf1c27c3c7d4c2847bfa409c10f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac028bcf1c27c3c7d4c2847bfa409c10f">&#9670;&nbsp;</a></span>getToken()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CuData CuTReader::getToken </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>returns the CuData storing the token that identifies this action </p>
<dl class="section return"><dt>Returns</dt><dd>a CuData with the following key/value pairs</dd></dl>
<ul>
<li>"source" --&gt; the name of the source (string) </li>
<li>"type" --&gt; a constant string: "reader" </li>
</ul>

<p class="reference">Referenced by <a class="el" href="classCuTReader.html#a5d5f615f01f028fe3f32306c584c9822">sendData()</a>.</p>

</div>
</div>
<a id="abab56f2fa5c3711ceec6d52907875b37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abab56f2fa5c3711ceec6d52907875b37">&#9670;&nbsp;</a></span>getType()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCuTangoActionI.html#ade015baf4bca143a9bafcce41aa2dd92">CuTangoActionI::Type</a> CuTReader::getType </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>returns the type of <a class="el" href="classCuTangoActionI.html" title="an interface for a Tango action, typically a reader or a writer are implementors">CuTangoActionI</a> implemented </p>
<dl class="section return"><dt>Returns</dt><dd>one of the values from the Type enum </dd></dl>

<p>Implements <a class="el" href="classCuTangoActionI.html#a47149541eaf350e7c488b1e2a103fe42">CuTangoActionI</a>.</p>

<p class="reference">References <a class="el" href="classCuTangoActionI.html#ade015baf4bca143a9bafcce41aa2dd92ad217b5458be69582f9d98863f43d41db">CuTangoActionI::Reader</a>.</p>

<p class="reference">Referenced by <a class="el" href="classCuTReader.html#a66c0cdbba00a83b339c07770c4626295">onResult()</a>.</p>

</div>
</div>
<a id="afa9248f271e4945ea53f508d32ce4fc5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa9248f271e4945ea53f508d32ce4fc5">&#9670;&nbsp;</a></span>isEventRefresh()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CuTReader::isEventRefresh </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCuTReader.html#aa7fdfba3098f8456948f8a4f4db96848">CuTReader::RefreshMode</a>&#160;</td>
          <td class="paramname"><em>rm</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>returns true if the parameter is an event driven RefreshMode, false otherwise. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rm</td><td>a value picked from <a class="el" href="classCuTReader.html#aa7fdfba3098f8456948f8a4f4db96848" title="The reader refresh mode.">CuTReader::RefreshMode</a> enumeration </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if rm is ChangeEventRefresh, PeriodicEventRefresh or ArchiveEventRefresh, false otherwise </dd></dl>

<p class="reference">References <a class="el" href="classCuTReader.html#aa7fdfba3098f8456948f8a4f4db96848a67a54cca3bd69287c31bd8c83aeae076">ArchiveEventRefresh</a>, <a class="el" href="classCuTReader.html#aa7fdfba3098f8456948f8a4f4db96848abef6d9cb08775329b86f20ff0e2a4172">ChangeEventRefresh</a>, and <a class="el" href="classCuTReader.html#aa7fdfba3098f8456948f8a4f4db96848a46164061204878bc667be129d86192b7">PeriodicEventRefresh</a>.</p>

<p class="reference">Referenced by <a class="el" href="classCuTReader.html#a5d5f615f01f028fe3f32306c584c9822">sendData()</a>, and <a class="el" href="classCuTReader.html#a33fed2857754e3dbfc728fe9a23b35e2">setRefreshMode()</a>.</p>

</div>
</div>
<a id="a310f5d5014c1f7517210af4c436818e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a310f5d5014c1f7517210af4c436818e5">&#9670;&nbsp;</a></span>onProgress()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CuTReader::onProgress </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>step</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>total</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const CuData &amp;&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>progress notification callback </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">step</td><td>the completed steps in the background </td></tr>
    <tr><td class="paramname">total</td><td>the total number of steps </td></tr>
    <tr><td class="paramname">data</td><td>CuData with data from the background activity</td></tr>
  </table>
  </dd>
</dl>
<p>The current implementation does nothing </p>

</div>
</div>
<a id="a66c0cdbba00a83b339c07770c4626295"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66c0cdbba00a83b339c07770c4626295">&#9670;&nbsp;</a></span>onResult() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CuTReader::onResult </td>
          <td>(</td>
          <td class="paramtype">const CuData &amp;&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">References <a class="el" href="classCuPollingService.html#ac9e338ca5b1b36884ff1656b616dd57a">CuPollingService::actionRegistered()</a>, <a class="el" href="classCuActionFactoryService.html#ad2bb6770622dc3dc24a5846f818e8bdcafb23f61f823444e6df483206eb9b7e11">CuActionFactoryService::CuActionFactoryServiceType</a>, <a class="el" href="classCuPollingService.html#a6f3a3c6af39fbe1c15c6805dfbadde01a0fbe229fee084efbb94bf9641d57332b">CuPollingService::CuPollingServiceType</a>, <a class="el" href="classCuTReader.html#abab56f2fa5c3711ceec6d52907875b37">getType()</a>, <a class="el" href="classCuTReader.html#aa7fdfba3098f8456948f8a4f4db96848aa0beab070134a15c077018c55b55786b">PolledRefresh</a>, and <a class="el" href="classCuActionFactoryService.html#a9d5825629c4a5868469a14267d9af8ac">CuActionFactoryService::unregisterAction()</a>.</p>

</div>
</div>
<a id="aadac5b2926d109c95316c532321a004d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aadac5b2926d109c95316c532321a004d">&#9670;&nbsp;</a></span>onResult() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CuTReader::onResult </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; CuData &gt; &amp;&#160;</td>
          <td class="paramname"><em>datalist</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ae426461b189140ac0227efdc2e31a932"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae426461b189140ac0227efdc2e31a932">&#9670;&nbsp;</a></span>period()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CuTReader::period </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classCuTReader.html#a5d5f615f01f028fe3f32306c584c9822">sendData()</a>, and <a class="el" href="classCuTReader.html#a33fed2857754e3dbfc728fe9a23b35e2">setRefreshMode()</a>.</p>

</div>
</div>
<a id="a7d1cb1c1406f67fc6c61b637f759b482"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d1cb1c1406f67fc6c61b637f759b482">&#9670;&nbsp;</a></span>refreshMode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCuTReader.html#aa7fdfba3098f8456948f8a4f4db96848">CuTReader::RefreshMode</a> CuTReader::refreshMode </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aa1c2c0d8e8be6c4562f3336e0fc86d4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1c2c0d8e8be6c4562f3336e0fc86d4d">&#9670;&nbsp;</a></span>refreshModeStr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string CuTReader::refreshModeStr </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">References <a class="el" href="classCuTReader.html#aa7fdfba3098f8456948f8a4f4db96848a67a54cca3bd69287c31bd8c83aeae076">ArchiveEventRefresh</a>, <a class="el" href="classCuTReader.html#aa7fdfba3098f8456948f8a4f4db96848abef6d9cb08775329b86f20ff0e2a4172">ChangeEventRefresh</a>, <a class="el" href="classCuTReader.html#aa7fdfba3098f8456948f8a4f4db96848ac4f8eb91cf33f91e054dc525f073d246">Manual</a>, <a class="el" href="classCuTReader.html#aa7fdfba3098f8456948f8a4f4db96848a46164061204878bc667be129d86192b7">PeriodicEventRefresh</a>, and <a class="el" href="classCuTReader.html#aa7fdfba3098f8456948f8a4f4db96848aa0beab070134a15c077018c55b55786b">PolledRefresh</a>.</p>

<p class="reference">Referenced by <a class="el" href="classCuTReader.html#a0fb59e260adfcea9cd094623d5a45e90">getData()</a>.</p>

</div>
</div>
<a id="a439883dad7d9b6cfb0a2c0085dc93e87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a439883dad7d9b6cfb0a2c0085dc93e87">&#9670;&nbsp;</a></span>removeDataListener()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CuTReader::removeDataListener </td>
          <td>(</td>
          <td class="paramtype">CuDataListener *&#160;</td>
          <td class="paramname"><em>l</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>remove a CuDataListener from the list of listeners of data updates </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">l</td><td>a CuDataListener that will be removed from the list of listeners </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classCuTangoActionI.html#a70ada28cceae397251f1523b3912f385">CuTangoActionI</a>.</p>

<p class="reference">References <a class="el" href="classCuTReader.html#ae4731c847e160a5203d24fb9b6fe8ae5">stop()</a>.</p>

</div>
</div>
<a id="a5d5f615f01f028fe3f32306c584c9822"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d5f615f01f028fe3f32306c584c9822">&#9670;&nbsp;</a></span>sendData()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CuTReader::sendData </td>
          <td>(</td>
          <td class="paramtype">const CuData &amp;&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Send data with parameters to configure the reader. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>a CuData bundle with the settings to apply to the reader.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Valid keys</dt><dd><ul>
<li>"period": integer. Change the polling period, if the refresh mode is <a class="el" href="classCuTReader.html#aa7fdfba3098f8456948f8a4f4db96848aa0beab070134a15c077018c55b55786b">CuTReader::PolledRefresh</a> </li>
<li>"refresh_mode". A <a class="el" href="classCuTReader.html#aa7fdfba3098f8456948f8a4f4db96848" title="The reader refresh mode.">CuTReader::RefreshMode</a> value to change the current refresh mode.</li>
</ul>
</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classCuTReader.html#a0fb59e260adfcea9cd094623d5a45e90" title="Get parameters from the reader.">getData</a> </dd></dl>

<p>Implements <a class="el" href="classCuTangoActionI.html#a086b8d5ad807f931e1a48583ce3aba5f">CuTangoActionI</a>.</p>

<p class="reference">References <a class="el" href="classCuPollingActivity.html#a00c85b4b2fa32a723b8812d5f872a6d6a0986c7e1af20e80e899b746f61e8ff9f">CuPollingActivity::CuPollingActivityType</a>, <a class="el" href="classCuPollingService.html#a6f3a3c6af39fbe1c15c6805dfbadde01a0fbe229fee084efbb94bf9641d57332b">CuPollingService::CuPollingServiceType</a>, <a class="el" href="classCuPollingService.html#aa9e209dbe73297e2df06a80413c9cf46">CuPollingService::getPoller()</a>, <a class="el" href="classCuTReader.html#ac028bcf1c27c3c7d4c2847bfa409c10f">getToken()</a>, <a class="el" href="classCuTReader.html#afa9248f271e4945ea53f508d32ce4fc5">isEventRefresh()</a>, <a class="el" href="classCuTReader.html#ae426461b189140ac0227efdc2e31a932">period()</a>, <a class="el" href="classCuTReader.html#aa7fdfba3098f8456948f8a4f4db96848aa0beab070134a15c077018c55b55786b">PolledRefresh</a>, and <a class="el" href="classCuTReader.html#a33fed2857754e3dbfc728fe9a23b35e2">setRefreshMode()</a>.</p>

</div>
</div>
<a id="a7b92741e79070c307ff5870f3c06c27a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b92741e79070c307ff5870f3c06c27a">&#9670;&nbsp;</a></span>setOptions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CuTReader::setOptions </td>
          <td>(</td>
          <td class="paramtype">const CuData &amp;&#160;</td>
          <td class="paramname"><em>options</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="classCuTReader.html#a7b92741e79070c307ff5870f3c06c27a" title="CuTReader::setOptions sets the options on the reader.">CuTReader::setOptions</a> sets the options on the reader. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">options</td><td>CuData key/value bundle</td></tr>
  </table>
  </dd>
</dl>
<p>Called by <a class="el" href="classCuTangoActionI.html" title="an interface for a Tango action, typically a reader or a writer are implementors">CuTangoActionI</a> *CuTangoReaderFactory::create </p>

<p class="reference">References <a class="el" href="classCuTReader.html#aac42436e8294cdf21989a30a77d9da10">setPeriod()</a>, and <a class="el" href="classCuTReader.html#a33fed2857754e3dbfc728fe9a23b35e2">setRefreshMode()</a>.</p>

<p class="reference">Referenced by <a class="el" href="classCuTangoReaderFactory.html#ae660a4479b4d039a58f825ea41c69c34">CuTangoReaderFactory::create()</a>.</p>

</div>
</div>
<a id="aac42436e8294cdf21989a30a77d9da10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac42436e8294cdf21989a30a77d9da10">&#9670;&nbsp;</a></span>setPeriod()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CuTReader::setPeriod </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>millis</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classCuTReader.html#a7b92741e79070c307ff5870f3c06c27a">setOptions()</a>.</p>

</div>
</div>
<a id="a33fed2857754e3dbfc728fe9a23b35e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33fed2857754e3dbfc728fe9a23b35e2">&#9670;&nbsp;</a></span>setRefreshMode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CuTReader::setRefreshMode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCuTReader.html#aa7fdfba3098f8456948f8a4f4db96848">CuTReader::RefreshMode</a>&#160;</td>
          <td class="paramname"><em>rm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>period</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>set or change the reader's refresh mode </p>
<p>If the reading activity hasn't been started yet, the mode is saved for later. If an activity is already running and the requested mode is different, the current activity is unregistered and a new one is started.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rm</td><td>a value chosen from <a class="el" href="classCuTReader.html#aa7fdfba3098f8456948f8a4f4db96848" title="The reader refresh mode.">CuTReader::RefreshMode</a>. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="classCuPollingService.html#ac9e338ca5b1b36884ff1656b616dd57a">CuPollingService::actionRegistered()</a>, <a class="el" href="classCuPollingService.html#a6f3a3c6af39fbe1c15c6805dfbadde01a0fbe229fee084efbb94bf9641d57332b">CuPollingService::CuPollingServiceType</a>, <a class="el" href="classCuTReader.html#afa9248f271e4945ea53f508d32ce4fc5">isEventRefresh()</a>, <a class="el" href="classCuTReader.html#aa7fdfba3098f8456948f8a4f4db96848ac4f8eb91cf33f91e054dc525f073d246">Manual</a>, <a class="el" href="classCuTReader.html#ae426461b189140ac0227efdc2e31a932">period()</a>, and <a class="el" href="classCuTReader.html#aa7fdfba3098f8456948f8a4f4db96848aa0beab070134a15c077018c55b55786b">PolledRefresh</a>.</p>

<p class="reference">Referenced by <a class="el" href="classCuTReader.html#a5d5f615f01f028fe3f32306c584c9822">sendData()</a>, and <a class="el" href="classCuTReader.html#a7b92741e79070c307ff5870f3c06c27a">setOptions()</a>.</p>

</div>
</div>
<a id="a3facbcb1d69b84d9d302db4511522671"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3facbcb1d69b84d9d302db4511522671">&#9670;&nbsp;</a></span>start()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CuTReader::start </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>creates and registers a <a class="el" href="classCuEventActivity.html" title="an activity to subscribe and receive events from Tango. Implements CuActivity and Tango::Callback int...">CuEventActivity</a> or a <a class="el" href="classCuPollingActivity.html" title="an activity to periodically read from Tango. Implements CuContinuousActivity">CuPollingActivity</a> to read from the <a class="el" href="namespaceTango.html">Tango</a> control system </p>
<dl class="section note"><dt>Note</dt><dd>This function is internally used by the library. Clients shouldn't need to deal with it.</dd></dl>
<p>This method </p><ul>
<li>fills in a CuData called <em>activity token</em>, that will be passed to the <a class="el" href="classCuWriteActivity.html">CuWriteActivity</a> </li>
<li>fills in a CuData called <em>thread token</em>, used to register the <a class="el" href="classCuWriteActivity.html">CuWriteActivity</a> and make the activity shared between writers with the same target. </li>
<li>instantiates and registers (i.e. starts) either a <a class="el" href="classCuEventActivity.html" title="an activity to subscribe and receive events from Tango. Implements CuActivity and Tango::Callback int...">CuEventActivity</a> or a <a class="el" href="classCuPollingActivity.html" title="an activity to periodically read from Tango. Implements CuContinuousActivity">CuPollingActivity</a>, according to the RefreshMode value. If the <a class="el" href="classCuEventActivity.html" title="an activity to subscribe and receive events from Tango. Implements CuActivity and Tango::Callback int...">CuEventActivity</a> fails subscribing to the <a class="el" href="namespaceTango.html">Tango</a> event system, it is replaced by <a class="el" href="classCuPollingActivity.html" title="an activity to periodically read from Tango. Implements CuContinuousActivity">CuPollingActivity</a> (in <a class="el" href="classCuTReader.html#a66c0cdbba00a83b339c07770c4626295">CuTReader::onResult</a>)</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>start is usually called by <a class="el" href="classCumbiaTango.html#a76e8f317b5855f86d2d46957a19d899e">CumbiaTango::addAction</a>, which in turn is called by qumbia-tango-controls CuTControlsReader::setSource</dd></dl>
<p>If the refresh mode is Manual, a <a class="el" href="classCuPollingActivity.html" title="an activity to periodically read from Tango. Implements CuContinuousActivity">CuPollingActivity</a> is started, with a very long period. To trigger a read in Manual mode, use sendData with a CuData containing a key named "*read*". See sendData for further details. </p>

<p>Implements <a class="el" href="classCuTangoActionI.html#a641aee21ef5e7a185271df3eead88172">CuTangoActionI</a>.</p>

<p class="reference">References <a class="el" href="classCuTReader.html#aa7fdfba3098f8456948f8a4f4db96848abef6d9cb08775329b86f20ff0e2a4172">ChangeEventRefresh</a>.</p>

</div>
</div>
<a id="ae4731c847e160a5203d24fb9b6fe8ae5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4731c847e160a5203d24fb9b6fe8ae5">&#9670;&nbsp;</a></span>stop()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CuTReader::stop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>the method where activities are unregistered from Cumbia </p>
<p>This is the place where activities are unregistered from Cumbia by the Cumbia::unregisterActivity method</p>
<dl class="section user"><dt>Examples</dt><dd><ul>
<li><a class="el" href="classCuTReader.html#ae4731c847e160a5203d24fb9b6fe8ae5" title="the method where activities are unregistered from Cumbia">CuTReader::stop</a> </li>
<li><a class="el" href="classCuTWriter.html#ad2a58ee36294ef83e28fe62d7d40fcf9" title="the method where activities are unregistered from Cumbia">CuTWriter::stop</a></li>
</ul>
See also Cumbia::unregisterActivity </dd></dl>

<p>Implements <a class="el" href="classCuTangoActionI.html#a14b2cc629be45c649df62e030a196476">CuTangoActionI</a>.</p>

<p class="reference">Referenced by <a class="el" href="classCuTReader.html#a439883dad7d9b6cfb0a2c0085dc93e87">removeDataListener()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="cutreader_8h_source.html">cutreader.h</a></li>
<li><a class="el" href="cutreader_8cpp.html">cutreader.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Dec 10 2019 17:25:06 for cumbia-tango by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
