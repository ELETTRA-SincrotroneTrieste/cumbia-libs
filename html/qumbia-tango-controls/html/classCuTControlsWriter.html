<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>qumbia-tango-controls: CuTControlsWriter Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">qumbia-tango-controls
   &#160;<span id="projectnumber">1.x</span>
   </div>
   <div id="projectbrief">Library on top of cumbia-qtcontrols and cumbia-tango</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classCuTControlsWriter-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">CuTControlsWriter Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>implements CuControlsWriterA abstract class and provides an interface to connect a Tango writer to a target.  
 <a href="classCuTControlsWriter.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="cutcontrolswriter_8h_source.html">cutcontrolswriter.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for CuTControlsWriter:</div>
<div class="dyncontent">
<div class="center"><img src="classCuTControlsWriter__inherit__graph.png" border="0" usemap="#CuTControlsWriter_inherit__map" alt="Inheritance graph"/></div>
<map name="CuTControlsWriter_inherit__map" id="CuTControlsWriter_inherit__map">
<area shape="rect"  title="implements CuControlsWriterA abstract class and provides an interface to connect a Tango writer to a ..." alt="" coords="6,80,134,107"/>
<area shape="rect"  title=" " alt="" coords="5,5,135,32"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa979c901eab0e5bf01a06b37c1f12ca0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCuTControlsWriter.html#aa979c901eab0e5bf01a06b37c1f12ca0">CuTControlsWriter</a> (Cumbia *cumbia_tango, CuDataListener *tl)</td></tr>
<tr class="memdesc:aa979c901eab0e5bf01a06b37c1f12ca0"><td class="mdescLeft">&#160;</td><td class="mdescRight">class constructor that's configured with CumbiaTango and CuDataListener instances  <a href="#aa979c901eab0e5bf01a06b37c1f12ca0">More...</a><br /></td></tr>
<tr class="separator:aa979c901eab0e5bf01a06b37c1f12ca0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9adcb88c8948b2860dd89ec77633d85"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCuTControlsWriter.html#ae9adcb88c8948b2860dd89ec77633d85">~CuTControlsWriter</a> ()</td></tr>
<tr class="memdesc:ae9adcb88c8948b2860dd89ec77633d85"><td class="mdescLeft">&#160;</td><td class="mdescRight">the class destructor.  <a href="#ae9adcb88c8948b2860dd89ec77633d85">More...</a><br /></td></tr>
<tr class="separator:ae9adcb88c8948b2860dd89ec77633d85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8dbb20f8e93089dfa2aca3602139114a"><td class="memItemLeft" align="right" valign="top">QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCuTControlsWriter.html#a8dbb20f8e93089dfa2aca3602139114a">target</a> () const</td></tr>
<tr class="memdesc:a8dbb20f8e93089dfa2aca3602139114a"><td class="mdescLeft">&#160;</td><td class="mdescRight">returns the configured target, or an empty string  <a href="#a8dbb20f8e93089dfa2aca3602139114a">More...</a><br /></td></tr>
<tr class="separator:a8dbb20f8e93089dfa2aca3602139114a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e107b288c19840dc72d7e2b2f798118"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCuTControlsWriter.html#a6e107b288c19840dc72d7e2b2f798118">clearTarget</a> ()</td></tr>
<tr class="memdesc:a6e107b288c19840dc72d7e2b2f798118"><td class="mdescLeft">&#160;</td><td class="mdescRight">remove the configured target, if any.  <a href="#a6e107b288c19840dc72d7e2b2f798118">More...</a><br /></td></tr>
<tr class="separator:a6e107b288c19840dc72d7e2b2f798118"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac48b8cdac0acdbd5f94ca7f5b931d2c9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCuTControlsWriter.html#ac48b8cdac0acdbd5f94ca7f5b931d2c9">setTarget</a> (const QString &amp;s)</td></tr>
<tr class="memdesc:ac48b8cdac0acdbd5f94ca7f5b931d2c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">connect the writer to the Tango control system target  <a href="#ac48b8cdac0acdbd5f94ca7f5b931d2c9">More...</a><br /></td></tr>
<tr class="separator:ac48b8cdac0acdbd5f94ca7f5b931d2c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3dee191d11600018c26fbd9ebc09de0"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCuTControlsWriter.html#ad3dee191d11600018c26fbd9ebc09de0">execute</a> ()</td></tr>
<tr class="memdesc:ad3dee191d11600018c26fbd9ebc09de0"><td class="mdescLeft">&#160;</td><td class="mdescRight">execute the target configured with setTarget. The value to write is taken from the return value of getArgs.  <a href="#ad3dee191d11600018c26fbd9ebc09de0">More...</a><br /></td></tr>
<tr class="separator:ad3dee191d11600018c26fbd9ebc09de0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7a584bb1be05ec0447e9a9c5864df56"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCuTControlsWriter.html#af7a584bb1be05ec0447e9a9c5864df56">sendData</a> (const CuData &amp;d)</td></tr>
<tr class="memdesc:af7a584bb1be05ec0447e9a9c5864df56"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is not implemented yet.  <a href="#af7a584bb1be05ec0447e9a9c5864df56">More...</a><br /></td></tr>
<tr class="separator:af7a584bb1be05ec0447e9a9c5864df56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a68c14e4ea91f0403685542507c1262"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCuTControlsWriter.html#a4a68c14e4ea91f0403685542507c1262">getData</a> (CuData &amp;d_ino) const</td></tr>
<tr class="memdesc:a4a68c14e4ea91f0403685542507c1262"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is not implemented yet.  <a href="#a4a68c14e4ea91f0403685542507c1262">More...</a><br /></td></tr>
<tr class="separator:a4a68c14e4ea91f0403685542507c1262"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b25cf22599441a6faf329527160964c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCuTControlsWriter.html#a9b25cf22599441a6faf329527160964c">setOptions</a> (const CuData &amp;o)</td></tr>
<tr class="memdesc:a9b25cf22599441a6faf329527160964c"><td class="mdescLeft">&#160;</td><td class="mdescRight">set the options on the writer (before setTarget)  <a href="#a9b25cf22599441a6faf329527160964c">More...</a><br /></td></tr>
<tr class="separator:a9b25cf22599441a6faf329527160964c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>implements CuControlsWriterA abstract class and provides an interface to connect a Tango writer to a target. </p>
<p>Built with references to CumbiaTango and CuDataListener, <a class="el" href="classCuTControlsWriter.html" title="implements CuControlsWriterA abstract class and provides an interface to connect a Tango writer to a ...">CuTControlsWriter</a> implements CuControlsWriterA and connects a writer to the Tango control system through the setTarget method. setOptions can discretionary be called before setTarget.</p>
<p>Parameters and configuration can be sent and queried with sendData and getData respectively.</p>
<p>clearTarget can finally be called in order disconnect a writer, and if <a class="el" href="classCuTControlsWriter.html" title="implements CuControlsWriterA abstract class and provides an interface to connect a Tango writer to a ...">CuTControlsWriter</a> is deleted, clearTarget is called automatically. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aa979c901eab0e5bf01a06b37c1f12ca0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa979c901eab0e5bf01a06b37c1f12ca0">&#9670;&nbsp;</a></span>CuTControlsWriter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CuTControlsWriter::CuTControlsWriter </td>
          <td>(</td>
          <td class="paramtype">Cumbia *&#160;</td>
          <td class="paramname"><em>cumbia_tango</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CuDataListener *&#160;</td>
          <td class="paramname"><em>tl</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>class constructor that's configured with CumbiaTango and CuDataListener instances </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cumbia_tango</td><td>a pointer to a CumbiaTango instance </td></tr>
    <tr><td class="paramname">CuDataListener</td><td>a pointer to an object implementing the CuDataListener interface </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae9adcb88c8948b2860dd89ec77633d85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9adcb88c8948b2860dd89ec77633d85">&#9670;&nbsp;</a></span>~CuTControlsWriter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">CuTControlsWriter::~CuTControlsWriter </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>the class destructor. </p>
<p>The class destructors sets the invalidate flag on the listener, so that it won't be used later, and calls clearTarget </p>

<p class="reference">References <a class="el" href="classCuTControlsWriter.html#a6e107b288c19840dc72d7e2b2f798118">clearTarget()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a6e107b288c19840dc72d7e2b2f798118"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e107b288c19840dc72d7e2b2f798118">&#9670;&nbsp;</a></span>clearTarget()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CuTControlsWriter::clearTarget </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>remove the configured target, if any. </p>
<ul>
<li>unlinks the attribute configuration listener </li>
<li>unlinks the writer listener </li>
</ul>

<p class="reference">Referenced by <a class="el" href="classCuTControlsWriter.html#ae9adcb88c8948b2860dd89ec77633d85">~CuTControlsWriter()</a>.</p>

</div>
</div>
<a id="ad3dee191d11600018c26fbd9ebc09de0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3dee191d11600018c26fbd9ebc09de0">&#9670;&nbsp;</a></span>execute()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CuTControlsWriter::execute </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>execute the target configured with setTarget. The value to write is taken from the return value of getArgs. </p>
<p>A CuTangoWriterFactory is used to start an activity managed by CumbiaTango. The activity deals with writing the value on an attribute or imparting a command once. </p>

</div>
</div>
<a id="a4a68c14e4ea91f0403685542507c1262"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a68c14e4ea91f0403685542507c1262">&#9670;&nbsp;</a></span>getData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CuTControlsWriter::getData </td>
          <td>(</td>
          <td class="paramtype">CuData &amp;&#160;</td>
          <td class="paramname"><em>d_ino</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is not implemented yet. </p>

</div>
</div>
<a id="af7a584bb1be05ec0447e9a9c5864df56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7a584bb1be05ec0447e9a9c5864df56">&#9670;&nbsp;</a></span>sendData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CuTControlsWriter::sendData </td>
          <td>(</td>
          <td class="paramtype">const CuData &amp;&#160;</td>
          <td class="paramname"><em>d</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is not implemented yet. </p>

</div>
</div>
<a id="a9b25cf22599441a6faf329527160964c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b25cf22599441a6faf329527160964c">&#9670;&nbsp;</a></span>setOptions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CuTControlsWriter::setOptions </td>
          <td>(</td>
          <td class="paramtype">const CuData &amp;&#160;</td>
          <td class="paramname"><em>o</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>set the options on the writer (before setTarget) </p>
<p>This is usually called by <a class="el" href="classCuTWriterFactory.html#a07c4670801801e1aa605e1fde00113ab" title="creates and returns a new CuTControlsWriter, configured with the given Cumbia and CuDataListener.">CuTWriterFactory::create</a> immediately after <a class="el" href="classCuTControlsWriter.html" title="implements CuControlsWriterA abstract class and provides an interface to connect a Tango writer to a ...">CuTControlsWriter</a> is instantiated. </p>

<p class="reference">Referenced by <a class="el" href="classCuTWriterFactory.html#a07c4670801801e1aa605e1fde00113ab">CuTWriterFactory::create()</a>.</p>

</div>
</div>
<a id="ac48b8cdac0acdbd5f94ca7f5b931d2c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac48b8cdac0acdbd5f94ca7f5b931d2c9">&#9670;&nbsp;</a></span>setTarget()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CuTControlsWriter::setTarget </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>connect the writer to the Tango control system target </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>the name of the writer target (Tango device attribute or command)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Usage</dt><dd>Normally, cumbia-qtcontrols widgets provide a setTarget method that deals with writer set up through CuContext. If you need to implement a custom writer, please refer to the CuContext documentation and to the examples offered by QuButton, QuApplyNumeric or QuWriter.</dd></dl>
<dl class="section user"><dt>Target syntax</dt><dd><ul>
<li>test/device/1/double_scalar(100.0): write 100.0 on the Tango double_scalar attribute </li>
<li>test/device/1/double_scalar: connect and prepare for later writing </li>
<li>inj/diagnostics/cm_inj.01-&gt;AcquireBackground: connect and prepare for imparting a command later on </li>
<li>$1-&gt;AcquireBackground same as above, but $1 is replaced by the first device name found in the command line arguments of the application </li>
<li>$1/double_scalar(&amp;doubleSpinBox) same as above, but the parameter is sent according to the "value" property of the spin box with the name specified</li>
</ul>
This method starts one activity to configure the target (i.e. get attribute configuration or get command info). The configuration step is exploited by graphical elements to set minimum, maximum, alarm values, units and so on. </dd></dl>

<p class="reference">References <a class="el" href="classCuTControlsUtils.html#af887be53c21993b9b3ff7c413ad5d1c3">CuTControlsUtils::replaceWildcards()</a>.</p>

</div>
</div>
<a id="a8dbb20f8e93089dfa2aca3602139114a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8dbb20f8e93089dfa2aca3602139114a">&#9670;&nbsp;</a></span>target()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QString CuTControlsWriter::target </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>returns the configured target, or an empty string </p>
<dl class="section return"><dt>Returns</dt><dd>the configured target or an empty string if setTarget hasn't been called yet.</dd></dl>
<dl class="section user"><dt>note</dt><dd>The returned string will contain the actual target, after wildcards have been replaced. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="cutcontrolswriter_8h_source.html">cutcontrolswriter.h</a></li>
<li><a class="el" href="cutcontrolswriter_8cpp.html">cutcontrolswriter.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Sep 10 2019 10:43:57 for qumbia-tango-controls by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
