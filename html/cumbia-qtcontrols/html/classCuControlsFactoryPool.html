<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>cumbia-qtcontrols: CuControlsFactoryPool Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">cumbia-qtcontrols
   &#160;<span id="projectnumber">1.x</span>
   </div>
   <div id="projectbrief">Qt widgets on top of the cumbia C++ library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classCuControlsFactoryPool-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">CuControlsFactoryPool Class Reference<div class="ingroups"><a class="el" href="group__core.html">Core classes</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>this class, used in conjunction with CumbiaPool allows to connect to different control system frameworks within the same application.  
 <a href="classCuControlsFactoryPool.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="cucontrolsfactorypool_8h_source.html">cucontrolsfactorypool.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:aa7e9c60683af470002328d4a132a2c5d"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCuControlsFactoryPool.html#aa7e9c60683af470002328d4a132a2c5d">Type</a> { <a class="el" href="classCuControlsFactoryPool.html#aa7e9c60683af470002328d4a132a2c5da79d06a65144128932e2a55a3a8c4df27">Reader</a> = 0
, <a class="el" href="classCuControlsFactoryPool.html#aa7e9c60683af470002328d4a132a2c5da6357d6dafcc637531127ce2155eb5de4">Writer</a>
 }</td></tr>
<tr class="separator:aa7e9c60683af470002328d4a132a2c5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a3f3390bb8588fe607b9305c5081288f4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCuControlsFactoryPool.html#a3f3390bb8588fe607b9305c5081288f4">CuControlsFactoryPool</a> ()</td></tr>
<tr class="separator:a3f3390bb8588fe607b9305c5081288f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c7dbaa9be372435e8199e330a4c5172"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCuControlsFactoryPool.html#a9c7dbaa9be372435e8199e330a4c5172">registerImpl</a> (const std::string &amp;domain, const <a class="el" href="classCuControlsReaderFactoryI.html">CuControlsReaderFactoryI</a> &amp;rf)</td></tr>
<tr class="memdesc:a9c7dbaa9be372435e8199e330a4c5172"><td class="mdescLeft">&#160;</td><td class="mdescRight">register a reader factory for a domain:  <a href="classCuControlsFactoryPool.html#a9c7dbaa9be372435e8199e330a4c5172">More...</a><br /></td></tr>
<tr class="separator:a9c7dbaa9be372435e8199e330a4c5172"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3993d023e388313a563805e6dfc24b3e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCuControlsFactoryPool.html#a3993d023e388313a563805e6dfc24b3e">registerImpl</a> (const std::string &amp;domain, const <a class="el" href="classCuControlsWriterFactoryI.html">CuControlsWriterFactoryI</a> &amp;wf)</td></tr>
<tr class="memdesc:a3993d023e388313a563805e6dfc24b3e"><td class="mdescLeft">&#160;</td><td class="mdescRight">register a writer factory for a domain:  <a href="classCuControlsFactoryPool.html#a3993d023e388313a563805e6dfc24b3e">More...</a><br /></td></tr>
<tr class="separator:a3993d023e388313a563805e6dfc24b3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c7da9b8e3deaed21beed2935c2ad084"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCuControlsFactoryPool.html#a6c7da9b8e3deaed21beed2935c2ad084">setSrcPatterns</a> (const std::string &amp;domain, const std::vector&lt; std::string &gt; &amp;regexps)</td></tr>
<tr class="memdesc:a6c7da9b8e3deaed21beed2935c2ad084"><td class="mdescLeft">&#160;</td><td class="mdescRight">set or change the source patterns (regular expressions) for the domain  <a href="classCuControlsFactoryPool.html#a6c7da9b8e3deaed21beed2935c2ad084">More...</a><br /></td></tr>
<tr class="separator:a6c7da9b8e3deaed21beed2935c2ad084"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae85f792c7b56691b03256cb64ed11ac2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCuControlsFactoryPool.html#ae85f792c7b56691b03256cb64ed11ac2">clearSrcPatterns</a> (const std::string &amp;domain)</td></tr>
<tr class="memdesc:ae85f792c7b56691b03256cb64ed11ac2"><td class="mdescLeft">&#160;</td><td class="mdescRight">remove patterns for the given domain  <a href="classCuControlsFactoryPool.html#ae85f792c7b56691b03256cb64ed11ac2">More...</a><br /></td></tr>
<tr class="separator:ae85f792c7b56691b03256cb64ed11ac2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52237d2f92bb082d888abece4df2ffdb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCuControlsReaderFactoryI.html">CuControlsReaderFactoryI</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCuControlsFactoryPool.html#a52237d2f92bb082d888abece4df2ffdb">getReadFactory</a> (const std::string &amp;domain) const</td></tr>
<tr class="memdesc:a52237d2f92bb082d888abece4df2ffdb"><td class="mdescLeft">&#160;</td><td class="mdescRight">returns the reader factory that was registered with the given domain  <a href="classCuControlsFactoryPool.html#a52237d2f92bb082d888abece4df2ffdb">More...</a><br /></td></tr>
<tr class="separator:a52237d2f92bb082d888abece4df2ffdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c2bf4c02654148dd03dafc99dad30ef"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCuControlsWriterFactoryI.html">CuControlsWriterFactoryI</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCuControlsFactoryPool.html#a7c2bf4c02654148dd03dafc99dad30ef">getWriteFactory</a> (const std::string &amp;domain) const</td></tr>
<tr class="memdesc:a7c2bf4c02654148dd03dafc99dad30ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">returns the writer factory that was registered with the given domain  <a href="classCuControlsFactoryPool.html#a7c2bf4c02654148dd03dafc99dad30ef">More...</a><br /></td></tr>
<tr class="separator:a7c2bf4c02654148dd03dafc99dad30ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71a2b79d941723140b16f66ab72b3d50"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCuControlsReaderFactoryI.html">CuControlsReaderFactoryI</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCuControlsFactoryPool.html#a71a2b79d941723140b16f66ab72b3d50">getRFactoryBySrc</a> (const std::string &amp;src) const</td></tr>
<tr class="memdesc:a71a2b79d941723140b16f66ab72b3d50"><td class="mdescLeft">&#160;</td><td class="mdescRight">uses the registered patterns to match the given source and return a <a class="el" href="classCuControlsReaderFactoryI.html" title="cumbia-qtcontrols reader factory. Creates an instance of a CuControlsReaderA implementation.">CuControlsReaderFactoryI</a> if a correspondence is found.  <a href="classCuControlsFactoryPool.html#a71a2b79d941723140b16f66ab72b3d50">More...</a><br /></td></tr>
<tr class="separator:a71a2b79d941723140b16f66ab72b3d50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a546e8d7b7e09117cebc5938f5a54bb9e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCuControlsWriterFactoryI.html">CuControlsWriterFactoryI</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCuControlsFactoryPool.html#a546e8d7b7e09117cebc5938f5a54bb9e">getWFactoryBySrc</a> (const std::string &amp;src) const</td></tr>
<tr class="memdesc:a546e8d7b7e09117cebc5938f5a54bb9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">uses the registered patterns to match the given source and return a <a class="el" href="classCuControlsWriterFactoryI.html" title="cumbia-qtcontrols writer factory. Creates an instance of a CuControlWriterA implementation.">CuControlsWriterFactoryI</a> if a correspondence is found.  <a href="classCuControlsFactoryPool.html#a546e8d7b7e09117cebc5938f5a54bb9e">More...</a><br /></td></tr>
<tr class="separator:a546e8d7b7e09117cebc5938f5a54bb9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d69e1619048e38ed3a79fc27fb71d70"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCuControlsFactoryPool.html#a6d69e1619048e38ed3a79fc27fb71d70">guessDomainBySrc</a> (const std::string &amp;src) const</td></tr>
<tr class="memdesc:a6d69e1619048e38ed3a79fc27fb71d70"><td class="mdescLeft">&#160;</td><td class="mdescRight">given the source string, , tries to match it with the registered patterns in order to return the associated domain name  <a href="classCuControlsFactoryPool.html#a6d69e1619048e38ed3a79fc27fb71d70">More...</a><br /></td></tr>
<tr class="separator:a6d69e1619048e38ed3a79fc27fb71d70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44ee1497ede82182404e08c213de636d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCuControlsFactoryPool.html#a44ee1497ede82182404e08c213de636d">isEmpty</a> () const</td></tr>
<tr class="memdesc:a44ee1497ede82182404e08c213de636d"><td class="mdescLeft">&#160;</td><td class="mdescRight">returns true if both the reader factory map and the writer factory map are empty.  <a href="classCuControlsFactoryPool.html#a44ee1497ede82182404e08c213de636d">More...</a><br /></td></tr>
<tr class="separator:a44ee1497ede82182404e08c213de636d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9988554b9f6592bfa25aaf84720b720a"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCuControlsFactoryPool.html#a9988554b9f6592bfa25aaf84720b720a">getSrcPatternDomains</a> () const</td></tr>
<tr class="separator:a9988554b9f6592bfa25aaf84720b720a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c7f186a9b78d6aef4dd074b00425b30"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCuControlsFactoryPool.html#a3c7f186a9b78d6aef4dd074b00425b30">getSrcPatterns</a> (const std::string &amp;domain) const</td></tr>
<tr class="separator:a3c7f186a9b78d6aef4dd074b00425b30"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>this class, used in conjunction with CumbiaPool allows to connect to different control system frameworks within the same application. </p>
<p>Reader and writer factories can be registered with registerImpl, providing a name for the domain they refer to. The following code registers reader and writer factories for <em>epics</em> and <em>tango</em>, making it possible to connect to sources belonging to these two different systems within the same application:</p>
<div class="fragment"><div class="line">ctrl_factory_pool.registerImpl(<span class="stringliteral">&quot;tango&quot;</span>, <a class="codeRef" href="../../qumbia-tango-controls/html/classCuTWriterFactory.html">CuTWriterFactory</a>());</div>
<div class="line">ctrl_factory_pool.registerImpl(<span class="stringliteral">&quot;tango&quot;</span>, <a class="codeRef" href="../../qumbia-tango-controls/html/classCuTReaderFactory.html">CuTReaderFactory</a>());</div>
<div class="line">m_ctrl_factory_pool.registerImpl(<span class="stringliteral">&quot;epics&quot;</span>, <a class="codeRef" href="../../qumbia-epics-controls/html/classCuEpReaderFactory.html">CuEpReaderFactory</a>());</div>
<div class="line">m_ctrl_factory_pool.registerImpl(<span class="stringliteral">&quot;epics&quot;</span>, <a class="codeRef" href="../../qumbia-epics-controls/html/classCuEpWriterFactory.html">CuEpWriterFactory</a>());</div>
<div class="ttc" id="aclassCuEpReaderFactory_html"><div class="ttname"><a href="../../qumbia-epics-controls/html/classCuEpReaderFactory.html">CuEpReaderFactory</a></div></div>
<div class="ttc" id="aclassCuEpWriterFactory_html"><div class="ttname"><a href="../../qumbia-epics-controls/html/classCuEpWriterFactory.html">CuEpWriterFactory</a></div></div>
<div class="ttc" id="aclassCuTReaderFactory_html"><div class="ttname"><a href="../../qumbia-tango-controls/html/classCuTReaderFactory.html">CuTReaderFactory</a></div></div>
<div class="ttc" id="aclassCuTWriterFactory_html"><div class="ttname"><a href="../../qumbia-tango-controls/html/classCuTWriterFactory.html">CuTWriterFactory</a></div></div>
</div><!-- fragment --><p>The setSrcPatterns method can be used to insert rules so that <a class="el" href="classCuControlsFactoryPool.html" title="this class, used in conjunction with CumbiaPool allows to connect to different control system framewo...">CuControlsFactoryPool</a> can distribute sources among the registered engine implementations according to their syntax pattern:</p>
<div class="fragment"><div class="line">std::vector&lt;std::string&gt; epics_patterns, tango_patterns;</div>
<div class="line">epics_patterns.push_back(<span class="stringliteral">&quot;.+:.+&quot;</span>); <span class="comment">// e.g. control:ai1 (epics PV)</span></div>
<div class="line">tango_patterns.push_back(<span class="stringliteral">&quot;.+/.+&quot;</span>); <span class="comment">// e.g. test/device/1/double_scalar</span></div>
<div class="line">tango_patterns.push_back(<span class="stringliteral">&quot;.+-&gt;.+&quot;</span>); <span class="comment">// e.g. test/device/1-&gt;DevLong</span></div>
<div class="line"><span class="comment">// associate a domain (&quot;tango&quot; or &quot;epics&quot;) to a specific pattern.</span></div>
<div class="line">ctrl_factory_pool.setSrcPatterns(<span class="stringliteral">&quot;epics&quot;</span>, epics_patterns);</div>
<div class="line">ctrl_factory_pool.setSrcPatterns(<span class="stringliteral">&quot;tango&quot;</span>, tango_patterns);</div>
</div><!-- fragment --> </div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="aa7e9c60683af470002328d4a132a2c5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7e9c60683af470002328d4a132a2c5d">&#9670;&nbsp;</a></span>Type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classCuControlsFactoryPool.html#aa7e9c60683af470002328d4a132a2c5d">CuControlsFactoryPool::Type</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="aa7e9c60683af470002328d4a132a2c5da79d06a65144128932e2a55a3a8c4df27"></a>Reader&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="aa7e9c60683af470002328d4a132a2c5da6357d6dafcc637531127ce2155eb5de4"></a>Writer&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a3f3390bb8588fe607b9305c5081288f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f3390bb8588fe607b9305c5081288f4">&#9670;&nbsp;</a></span>CuControlsFactoryPool()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CuControlsFactoryPool::CuControlsFactoryPool </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>the class constructor</p>
<dl class="section user"><dt>example</dt><dd>Header file <div class="fragment"><div class="line"><span class="keyword">class </span>GenericClient : <span class="keyword">public</span> QWidget</div>
<div class="line">{</div>
<div class="line">  Q_OBJECT</div>
<div class="line">  <span class="keyword">public</span>:</div>
<div class="line">      <span class="comment">// ...</span></div>
<div class="line"> </div>
<div class="line">  <span class="keyword">private</span>:</div>
<div class="line">      CumbiaPool *cu_pool; <span class="comment">// to use in combination with CuControlsFactoryPool</span></div>
<div class="line">      <a class="code" href="classCuControlsFactoryPool.html">CuControlsFactoryPool</a> m_ctrl_factory_pool;</div>
<div class="ttc" id="aclassCuControlsFactoryPool_html"><div class="ttname"><a href="classCuControlsFactoryPool.html">CuControlsFactoryPool</a></div><div class="ttdoc">this class, used in conjunction with CumbiaPool allows to connect to different control system framewo...</div><div class="ttdef"><b>Definition:</b> cucontrolsfactorypool.h:44</div></div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ae85f792c7b56691b03256cb64ed11ac2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae85f792c7b56691b03256cb64ed11ac2">&#9670;&nbsp;</a></span>clearSrcPatterns()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CuControlsFactoryPool::clearSrcPatterns </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>domain</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>remove patterns for the given domain </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">domain</td><td>a string with the domain name whose patterns are to be removed </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a52237d2f92bb082d888abece4df2ffdb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52237d2f92bb082d888abece4df2ffdb">&#9670;&nbsp;</a></span>getReadFactory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCuControlsReaderFactoryI.html">CuControlsReaderFactoryI</a> * CuControlsFactoryPool::getReadFactory </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>domain</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>returns the reader factory that was registered with the given domain </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">domain</td><td>the name of the domain registered with registerImpl </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the <a class="el" href="classCuControlsReaderFactoryI.html" title="cumbia-qtcontrols reader factory. Creates an instance of a CuControlsReaderA implementation.">CuControlsReaderFactoryI</a> implementation corresponding to the given domain, or NULL if the domain wasn't registered. </dd></dl>

<p class="reference">Referenced by <a class="el" href="classCuControlsFactoryPool.html#a71a2b79d941723140b16f66ab72b3d50">getRFactoryBySrc()</a>.</p>

</div>
</div>
<a id="a71a2b79d941723140b16f66ab72b3d50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71a2b79d941723140b16f66ab72b3d50">&#9670;&nbsp;</a></span>getRFactoryBySrc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCuControlsReaderFactoryI.html">CuControlsReaderFactoryI</a> * CuControlsFactoryPool::getRFactoryBySrc </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>src</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>uses the registered patterns to match the given source and return a <a class="el" href="classCuControlsReaderFactoryI.html" title="cumbia-qtcontrols reader factory. Creates an instance of a CuControlsReaderA implementation.">CuControlsReaderFactoryI</a> if a correspondence is found. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">src</td><td>the name of the source </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a <a class="el" href="classCuControlsReaderFactoryI.html" title="cumbia-qtcontrols reader factory. Creates an instance of a CuControlsReaderA implementation.">CuControlsReaderFactoryI</a> implementation matching the source.</dd></dl>
<dl class="section user"><dt>Domain matching.</dt><dd>If the source src contains the "://" substring, the domain is matched with the string preceding the substring, and the corresponding factory implementation is returned. Otherwise, the domain is guessed matching src against the regular expression patterns registered with setSrcPatterns.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>If no match is found, a random <a class="el" href="classCuControlsReaderFactoryI.html" title="cumbia-qtcontrols reader factory. Creates an instance of a CuControlsReaderA implementation.">CuControlsReaderFactoryI</a> implementation may be returned (the first stored in the std::map). </dd></dl>

<p class="reference">References <a class="el" href="classCuControlsFactoryPool.html#a52237d2f92bb082d888abece4df2ffdb">getReadFactory()</a>, and <a class="el" href="classCuControlsFactoryPool.html#a6d69e1619048e38ed3a79fc27fb71d70">guessDomainBySrc()</a>.</p>

</div>
</div>
<a id="a9988554b9f6592bfa25aaf84720b720a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9988554b9f6592bfa25aaf84720b720a">&#9670;&nbsp;</a></span>getSrcPatternDomains()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::string &gt; CuControlsFactoryPool::getSrcPatternDomains </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a3c7f186a9b78d6aef4dd074b00425b30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c7f186a9b78d6aef4dd074b00425b30">&#9670;&nbsp;</a></span>getSrcPatterns()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::string &gt; CuControlsFactoryPool::getSrcPatterns </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>domain</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a546e8d7b7e09117cebc5938f5a54bb9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a546e8d7b7e09117cebc5938f5a54bb9e">&#9670;&nbsp;</a></span>getWFactoryBySrc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCuControlsWriterFactoryI.html">CuControlsWriterFactoryI</a> * CuControlsFactoryPool::getWFactoryBySrc </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>src</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>uses the registered patterns to match the given source and return a <a class="el" href="classCuControlsWriterFactoryI.html" title="cumbia-qtcontrols writer factory. Creates an instance of a CuControlWriterA implementation.">CuControlsWriterFactoryI</a> if a correspondence is found. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">src</td><td>the name of the source </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a <a class="el" href="classCuControlsWriterFactoryI.html" title="cumbia-qtcontrols writer factory. Creates an instance of a CuControlWriterA implementation.">CuControlsWriterFactoryI</a> implementation matching the source.</dd></dl>
<dl class="section user"><dt>Domain matching.</dt><dd>If the source src contains the "://" substring, the domain is matched with the string preceding the substring, and the corresponding factory implementation is returned. Otherwise, the domain is guessed matching src against the regular expression patterns registered with setSrcPatterns.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>If no match is found, a random <a class="el" href="classCuControlsReaderFactoryI.html" title="cumbia-qtcontrols reader factory. Creates an instance of a CuControlsReaderA implementation.">CuControlsReaderFactoryI</a> implementation may be returned (the first stored in the std::map). </dd></dl>

<p class="reference">References <a class="el" href="classCuControlsFactoryPool.html#a7c2bf4c02654148dd03dafc99dad30ef">getWriteFactory()</a>, and <a class="el" href="classCuControlsFactoryPool.html#a6d69e1619048e38ed3a79fc27fb71d70">guessDomainBySrc()</a>.</p>

</div>
</div>
<a id="a7c2bf4c02654148dd03dafc99dad30ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c2bf4c02654148dd03dafc99dad30ef">&#9670;&nbsp;</a></span>getWriteFactory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCuControlsWriterFactoryI.html">CuControlsWriterFactoryI</a> * CuControlsFactoryPool::getWriteFactory </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>domain</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>returns the writer factory that was registered with the given domain </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">domain</td><td>the name of the domain registered with registerImpl </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the <a class="el" href="classCuControlsWriterFactoryI.html" title="cumbia-qtcontrols writer factory. Creates an instance of a CuControlWriterA implementation.">CuControlsWriterFactoryI</a> implementation corresponding to the given domain, or NULL if the domain wasn't registered. </dd></dl>

<p class="reference">Referenced by <a class="el" href="classCuControlsFactoryPool.html#a546e8d7b7e09117cebc5938f5a54bb9e">getWFactoryBySrc()</a>.</p>

</div>
</div>
<a id="a6d69e1619048e38ed3a79fc27fb71d70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d69e1619048e38ed3a79fc27fb71d70">&#9670;&nbsp;</a></span>guessDomainBySrc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string CuControlsFactoryPool::guessDomainBySrc </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>src</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>given the source string, , tries to match it with the registered patterns in order to return the associated domain name </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">src</td><td>the source name </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a string with the guessed domain or an empty string if no regexp match has been found. </dd></dl>

<p class="reference">Referenced by <a class="el" href="classCuControlsFactoryPool.html#a71a2b79d941723140b16f66ab72b3d50">getRFactoryBySrc()</a>, and <a class="el" href="classCuControlsFactoryPool.html#a546e8d7b7e09117cebc5938f5a54bb9e">getWFactoryBySrc()</a>.</p>

</div>
</div>
<a id="a44ee1497ede82182404e08c213de636d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44ee1497ede82182404e08c213de636d">&#9670;&nbsp;</a></span>isEmpty()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CuControlsFactoryPool::isEmpty </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>returns true if both the reader factory map and the writer factory map are empty. </p>
<dl class="section return"><dt>Returns</dt><dd>true if both the reader factory map and the writer factory map are empty, false otherwise. </dd></dl>

<p class="reference">Referenced by <a class="el" href="classQmlReaderBackend.html#a0a5339966d94f5eab0808ee4c876e7e3">QmlReaderBackend::init()</a>.</p>

</div>
</div>
<a id="a9c7dbaa9be372435e8199e330a4c5172"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c7dbaa9be372435e8199e330a4c5172">&#9670;&nbsp;</a></span>registerImpl() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CuControlsFactoryPool::registerImpl </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>domain</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classCuControlsReaderFactoryI.html">CuControlsReaderFactoryI</a> &amp;&#160;</td>
          <td class="paramname"><em>rf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>register a reader factory for a domain: </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">domain</td><td>a string identifying a domain, e.g. "tango" or "epics" </td></tr>
    <tr><td class="paramname">rf</td><td>an instance of an object implementing <a class="el" href="classCuControlsReaderFactoryI.html" title="cumbia-qtcontrols reader factory. Creates an instance of a CuControlsReaderA implementation.">CuControlsReaderFactoryI</a>, such as <a class="elRef" href="../../qumbia-tango-controls/html/classCuTReaderFactory.html">CuTReaderFactory</a> or <a class="elRef" href="../../qumbia-epics-controls/html/classCuEpReaderFactory.html">CuEpReaderFactory</a> </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="classCuControlsReaderFactoryI.html#a51a60e1aaae5d0e6056ecf4795325049">CuControlsReaderFactoryI::clone()</a>.</p>

<p class="reference">Referenced by <a class="el" href="examples_2button_2main_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main()</a>.</p>

</div>
</div>
<a id="a3993d023e388313a563805e6dfc24b3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3993d023e388313a563805e6dfc24b3e">&#9670;&nbsp;</a></span>registerImpl() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CuControlsFactoryPool::registerImpl </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>domain</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classCuControlsWriterFactoryI.html">CuControlsWriterFactoryI</a> &amp;&#160;</td>
          <td class="paramname"><em>wf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>register a writer factory for a domain: </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">domain</td><td>a string identifying a domain, e.g. "tango" or "epics" </td></tr>
    <tr><td class="paramname">wf</td><td>an instance of an object implementing <a class="el" href="classCuControlsWriterFactoryI.html" title="cumbia-qtcontrols writer factory. Creates an instance of a CuControlWriterA implementation.">CuControlsWriterFactoryI</a>, such as <a class="elRef" href="../../qumbia-tango-controls/html/classCuTWriterFactory.html">CuTWriterFactory</a> or <a class="elRef" href="../../qumbia-epics-controls/html/classCuEpWriterFactory.html">CuEpWriterFactory</a> </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="classCuControlsWriterFactoryI.html#a7d3a0e9b4f577d77bcbc53943aba8b02">CuControlsWriterFactoryI::clone()</a>.</p>

</div>
</div>
<a id="a6c7da9b8e3deaed21beed2935c2ad084"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c7da9b8e3deaed21beed2935c2ad084">&#9670;&nbsp;</a></span>setSrcPatterns()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CuControlsFactoryPool::setSrcPatterns </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>domain</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>regex_patt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>set or change the source patterns (regular expressions) for the domain </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">domain</td><td>a string identifying a domain, e.g. "tango" or "epics" </td></tr>
    <tr><td class="paramname">regex_patt</td><td>a vector of string with the set of regular expressions that are used to match and assign sources to engines. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">Referenced by <a class="el" href="examples_2button_2main_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="cucontrolsfactorypool_8h_source.html">cucontrolsfactorypool.h</a></li>
<li><a class="el" href="cucontrolsfactorypool_8cpp.html">cucontrolsfactorypool.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri May 14 2021 16:58:09 for cumbia-qtcontrols by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
