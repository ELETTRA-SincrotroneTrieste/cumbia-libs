<h1>News</h1>

<h3>version 1.1.0</h3>

<h3>Library</h3>

<h4> cumbia </h4>
<p>
Version 1.1.0 allows the application developer to customize how threads are grouped together, as well
as to define an upper limit on their number.
Additionally, timers in polled reads can be reused in order to limit timer threads.
</p>


<h4>cumbia-random</h4>
<p>
<a href="html/cumbia-random/html/index.html">cumbia-random</a>
has been expanded in order to offer great flexibility to test higher level cumbia modules
and applications with greater accuracy. Source names alone can specify how data is generated, threads grouped and much more. JavaScript
functions in .js files can be set as source of data for the cumbia-random module.
</p>

<h3>Apps</h3>
qumbia-apps/cumbiareader has been deeply expanded in order to support the cumbia-random module and a
great number of command line options.
Coupled with the qumbia-tango-findsrc-plugin and the qumbia-tango-find-src app, that can be installed from
https://github.com/ELETTRA-SincrotroneTrieste/qumbia-tango-findsrc-plugin.git
it provides Tango sources auto completion on the command line.

Requires c++17

a. cumbia-tango
a1. CuPoller, CuPollingActivity: CuPoller::m_do_unregisterAction: removed wrong call to
    unregisterActivity that lead to a potential delay upon source disconnection as long as
    the timer timeout. CuPollingActivity::m_unregisterAction gets a reference to its thread
    and unregisters itself when no more in charge of any action.

b. qumbia-apps/qumbia-client: use setOptions before setSource to connect to a source according
   to the refresh mode and period options on the user interface.

c. cumbia
c1. CuTimerService allows to limit the number of timers used by the application.
c2. A limit on the number of threads created by activities can be set, as well as a custom thread token allows
    the user to group threads
c3. C++17 shared_locks replace unique locks where the protected variables are only read


d. cumbia-qtcontrols
d1. cupluginloader provides a template method to directly get the desired plugin CuPluginLoader::get
d2. qulabelbase.cpp: wordwrap no more set to true by default. Fixed size-hint related methods

e. cumbia-random

Library has been expanded to support several new operations for testing purposes.
The source name can define group threading, period, size of generated data, minimum, maximum and period.
The source can specify a JavaScript file to generate data from a custom function
e1. enabled in scripts/cubuild.sh

f. qumbia-apps/cumbiareader moved to qumbia-apps/qumbia-reader
f1. support for cumbia-random
f2. in combination with the qumbia-tango-findsrc-plugin + qumbia-tango-find-src app, Tango sources auto completion
    is available.
f3. improved output formatting
f4. improved options from command line (single shot, read x times and quit...)
f5. support for Tango database properties (device, attribute, class)

g. External new plugin qumbia-tango-findsrc-plugin + qumbia-tango-find-src app:
   https://github.com/ELETTRA-SincrotroneTrieste/qumbia-tango-findsrc-plugin.git
   Finds the name of a Tango source (attribute or command) from a partial name.
   Can be used for auto completion of Tango sources.

h. qumbia-tango-controls
h1. added interface qutfindsrcsplugini.h for the qumbia-tango-findsrc-plugin (see g.)

i. qumbia-apps/cumbia/cumbia shell script for "cumbia" command line shortcuts
i1. support for cumbiareader (cumbia read)
i2. qumbia-apps/cumbia/bash_completion.d/cumbia: completion for cumbia read

l. cumbia-epics
l1. Fixed a potential crash when unset source is called within an update within a listener's onUpdate
    method. Files: cumonitor.cpp. Function CuMonitor::onResult creates a copy of the listeners list
    before iterating.
l2. Removed prints.

